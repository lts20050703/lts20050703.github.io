import{f as O,a as J}from"../chunks/BAhx-X9G.js";import{p as mt,u as W,b as X,i,d as w,g as s,f as K,s as t,c as a,k as bt,t as L,a as ft,r}from"../chunks/DpYMcOls.js";import{d as yt,s as v}from"../chunks/DO8qiAfh.js";import{i as Y}from"../chunks/A2GgpgHd.js";import{d as gt,n as Z,r as N,s as h,v as xt}from"../chunks/BaETQRMq.js";import{b as wt,c as $}from"../chunks/qtjqsBgj.js";import{b as ht}from"../chunks/CW-jDeH3.js";import{H as kt}from"../chunks/D8CBjT4n.js";import{t as b,T as St}from"../chunks/BY87aMoq.js";import{l as jt,s as It,x as Tt,a as Et,b as Ft,e as Ht,p as At,c as Ct,d as Jt,i as l}from"../chunks/DDJJYouR.js";var Kt=O('<hr class="my-2 w-full opacity-25"/> <div class="text-error"> </div>',1),Lt=O('<!> <hr class="my-2 w-full opacity-25"/> <div class="tabs tabs-lift w-full"><input type="radio" name="section" class="tab border-b-0! [--tab-border-color:--color-base-content]"/> <div class="tab-content bg-base-100 border-base-content p-4"><div class="flex flex-col items-center justify-center gap-1"><!> <hr class="my-2 w-full opacity-25"/> <!> <hr class="my-2 w-full opacity-25"/> <!></div></div> <input type="radio" name="section" class="tab border-b-0! [--tab-border-color:--color-base-content]"/> <div class="tab-content bg-base-100 border-base-content p-4"><div class="flex flex-col items-center justify-center gap-1"><!></div></div></div> <!>',1),Nt=O('<!> <div class="text-center text-2xl font-bold"> </div> <div class="text-center"> </div> <div class="m-1 flex items-center justify-center"><div class="flex w-full max-w-sm flex-col items-center justify-center gap-1"><hr class="my-2 w-full opacity-25"/> <div class="text-3xl"> </div> <div class="mt-4 flex flex-col items-center justify-center gap-1"><button class="btn btn-primary btn-sm"> </button> <div class="mt-4 flex flex-row gap-1"><input class="input input-sm input-primary" type="text"/> <button class="btn btn-error btn-sm px-1"><!></button></div> <button class="btn btn-error btn-sm"> </button></div> <!> <!></div></div> <!>',1);function Ut(tt,et){mt(et,!0);const q=[];let f,k=w("loading"),o=w(""),S=w(void 0),y=w("players");W(()=>X(()=>{try{i(k,jt(localStorage.getItem("werewolf-moderator"),!0),!0),b("Loaded save!","success",3e3)}catch(e){b("Failed to load save!","error",3e3),i(S,e,!0)}})),W(()=>{s(k)==="loaded"&&(localStorage.setItem("werewolf-moderator",JSON.stringify(It)),X(()=>b("Autosaved!","success",1e3)))});function z(e){s(o)===""||e instanceof KeyboardEvent&&e.key!=="Enter"||(localStorage.setItem("werewolf-moderator",s(o)),location.reload())}var B=Nt(),D=K(B);kt(D,{get title(){return Z.msn},get description(){return gt.msn},uri:"msn/debug"});var j=t(D,2),at=a(j,!0);r(j);var I=t(j,2),rt=a(I,!0);r(I);var T=t(I,2),G=a(T),E=t(a(G),2),st=a(E,!0);r(E);var F=t(E,2),g=a(F);g.__pointerup=async()=>{try{navigator.clipboard.writeText(localStorage.getItem("werewolf-moderator")??""),b("Copied to clipboard!","success",3e3)}catch{b("Failed to copy to clipboard! The save state has been put into the input below, so you can copy it manually.","error",15e3),i(o,localStorage.getItem("werewolf-moderator")??"",!0),await bt(),f.focus(),f.select()}};var ot=a(g,!0);r(g);var H=t(g,2),n=a(H);N(n),n.__keydown=z,ht(n,e=>f=e,()=>f);var _=t(n,2);_.__click=()=>{i(o,"")};var it=a(_);Tt(it),r(_),r(H);var x=t(H,2);x.__click=z;var lt=a(x,!0);r(x),r(F);var M=t(F,2);{var nt=e=>{var u=Kt(),p=t(K(u),2),m=a(p,!0);r(p),L(()=>v(m,s(S))),J(e,u)};Y(M,e=>{s(S)&&e(nt)})}var dt=t(M,2);{var ct=e=>{var u=Lt(),p=K(u);Et(p);var m=t(p,4),d=a(m);N(d),d.value=d.__value="players";var A=t(d,2),P=a(A),Q=a(P);Ft(Q);var R=t(Q,4);Ht(R);var _t=t(R,4);At(_t),r(P),r(A);var c=t(A,2);N(c),c.value=c.__value="roles";var U=t(c,2),V=a(U),ut=a(V);Ct(ut),r(V),r(U),r(m);var pt=t(m,2);Jt(pt),L(()=>{h(d,"aria-label",l.players),h(c,"aria-label",l.roles)}),$(q,[],d,()=>s(y),C=>i(y,C)),$(q,[],c,()=>s(y),C=>i(y,C)),J(e,u)};Y(dt,e=>{s(k)==="loaded"&&e(ct)})}r(G),r(T);var vt=t(T,2);St(vt,{}),L(()=>{v(at,Z.msn),v(rt,xt["werewolf-moderator"]),v(st,l.debug),v(ot,l.copy_save_state_to_clipboard),h(n,"placeholder",l.save_state),_.disabled=!s(o),h(_,"aria-label",l.clear),x.disabled=!s(o),v(lt,l.import_save_state)}),wt(n,()=>s(o),e=>i(o,e)),J(tt,B),ft()}yt(["pointerup","keydown","click"]);export{Ut as component};
