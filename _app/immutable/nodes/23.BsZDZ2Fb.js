import{d as It,f as w,s as c,a as f,c as ct}from"../chunks/Ce61RJFW.js";import{p as Kt,f as K,s,c as e,i,d as D,g as a,t as E,a as $t,h as ut,r,E as Bt,n as Gt}from"../chunks/mJtnS1C1.js";import{i as S}from"../chunks/D2J4IEeg.js";import{d as Jt,n as bt,a as pt,h as Mt,s as W,v as Nt,r as $}from"../chunks/vBg15EUq.js";import{c as X,b as Ot}from"../chunks/BS63G1dM.js";import{b as Qt}from"../chunks/DE8IYXKl.js";import{H as Rt}from"../chunks/B8CXukk-.js";import{T as Ut,t as ft}from"../chunks/wwYqJERP.js";import{S as Vt,P as Wt,C as Xt,a as Yt,i as v,s as Y,b as Zt,c as mt,x as ta,A as aa,d as ea,e as ra,l as sa}from"../chunks/2SUw46IV.js";var oa=w('<div role="alert" class="alert w-full alert-vertical alert-soft text-base alert-error"><!> <div> </div> <div>Please follow the following steps:</div> <ol class="list list-decimal text-left text-base"><li> </li> <li> </li> <li>Send Link the save data</li> <li>Delete the save file</li></ol> <button class="btn btn-primary"> </button></div>'),la=w('<span class="loading loading-xl loading-spinner"></span>'),ia=w('<button class="btn btn-sm"> </button> <div class="w-full bg-base-100 p-4"><div class="border p-4"><!></div></div> <hr class="my-2 w-full opacity-25"/> <div class="flex flex-col items-center justify-center gap-4"><button class="btn btn-sm btn-primary"> </button> <div class="flex flex-row gap-1"><input class="input input-sm input-primary" type="text"/> <button class="btn px-1 btn-sm btn-error"><!></button></div> <button class="btn btn-sm btn-error"> </button></div> <hr class="my-2 w-full opacity-25"/> <!>',1),va=w('<div class="alert w-full alert-vertical alert-soft py-1 text-base alert-error"> </div>'),na=w('<div class="alert w-full alert-vertical alert-soft py-1 text-base alert-error"> </div>'),da=w('<div class="fixed top-2 z-50 flex w-full justify-center"><div class="flex flex-col gap-1"><!> <!></div></div>'),_a=w('<!> <div class="flex justify-center"><div class="tooltip-open tooltip tooltip-error" data-tip="Debug"><button class="text-2xl font-bold"> </button></div></div> <div class="text-center"> </div> <div class="m-1 mb-12 flex items-center justify-center"><div class="flex w-full max-w-sm flex-col items-center justify-center gap-1"><div><input type="radio" name="save_data" class="tab border-b-0! [--tab-border-color:--color-base-content]" aria-label="Save Data"/> <div class="tab-content border-base-content bg-base-100 p-4"><!></div> <input type="radio" name="save_data" class="tab border-b-0! [--tab-border-color:--color-base-content]" aria-label="Presets"/> <div class="tab-content border-base-content bg-base-100 p-4"><!></div> <input type="radio" name="save_data" class="tab border-b-0! [--tab-border-color:--color-base-content]"/> <div class="tab-content border-base-content bg-base-100 p-4"><!></div></div> <!> <!></div></div> <!> <div class="toast toast-end toast-top lg:toast-start lg:toast-bottom"><div>ðŸ’¾</div></div>',1);function ya(gt,xt){Kt(xt,!0);const B=[],wt=t=>{var l=oa(),g=e(l);ea(g);var m=s(g,2),q=e(m);r(m);var n=s(m,4),b=e(n),_=e(b,!0);r(b);var d=s(b,2),x=e(d,!0);r(d),Gt(4),r(n);var p=s(n,2);p.__click=()=>i(o,-1);var H=e(p,!0);r(p),r(l),E(()=>{c(q,`An error occurred while loading ${(mt[a(o)].label||`File #${a(o)+1}`)??""}'s save data.`),c(_,v.save_and_quit),c(x,v.copy_url_to_clipboard),c(H,v.save_and_quit)}),f(t,l)},yt={saving:"alert-warning",success:"alert-success",error:"alert-error"};let y=D("loading");const Z=ut(()=>Y.players.some(t=>Y.players.some(l=>t.id!==l.id&&t.name.toLowerCase()===l.name.toLowerCase()))),tt=ut(()=>Y.players.some(t=>!t.name));let h=D("slots"),o=D(-1),L=D(void 0),u=D("");function at(t){!a(u)||t instanceof KeyboardEvent&&t.key!=="Enter"||(ra(`werewolf-moderator[${a(o)}]`,a(u)),sa(a(u)))}var et=_a(),rt=K(et);Rt(rt,{get title(){return bt["werewolf-moderator"]},get description(){return Jt["werewolf-moderator"]},uri:"werewolf-moderator/debug"});var G=s(rt,2),st=e(G),ot=e(st),ht=e(ot,!0);r(ot),r(st),r(G);var J=s(G,2),kt=e(J,!0);r(J);var M=s(J,2),lt=e(M),T=e(lt),C=e(T);$(C),C.value=C.__value="slots";var N=s(C,2),jt=e(N);Vt(jt,{get file(){return a(o)},set file(t){i(o,t,!0)},get load_save_status(){return a(y)},set load_save_status(t){i(y,t,!0)}}),r(N);var P=s(N,2);$(P),P.value=P.__value="presets";var O=s(P,2),St=e(O);Wt(St,{get load_save_status(){return a(y)},set load_save_status(t){i(y,t,!0)},get file(){return a(o)},set file(t){i(o,t,!0)}}),r(O);var k=s(O,2);$(k),k.value=k.__value="custom_roles";var it=s(k,2),Ct=e(it);Xt(Ct),r(it),r(T);var vt=s(T,2);{var Pt=t=>{var l=ct(),g=K(l);{var m=n=>{var b=la();f(n,b)},q=n=>{var b=ct(),_=K(b);{var d=p=>{wt(p)},x=p=>{var H=ia(),z=K(H);z.__click=()=>i(o,-1);var Et=e(z,!0);r(z);var Q=s(z,2),_t=e(Q),Lt=e(_t);Zt(Lt,{get a_slot(){return mt[a(o)]},get index(){return a(o)},show_time:!0}),r(_t),r(Q);var R=s(Q,4),F=e(R);F.__pointerup=async()=>{try{i(u,localStorage.getItem(`werewolf-moderator[${a(o)}]`)??"",!0),navigator.clipboard.writeText(a(u)),ft(v.copied_to_clipboard,"success",3e3)}catch{ft(v.failed_to_copy,"error",15e3),await Bt(),a(L)?.focus(),a(L)?.select()}};var Tt=e(F,!0);r(F);var U=s(F,2),j=e(U);$(j),j.__keydown=at,Qt(j,V=>i(L,V),()=>a(L));var A=s(j,2);A.__click=()=>{i(u,"")};var Ht=e(A);ta(Ht),r(A),r(U);var I=s(U,2);I.__click=at;var zt=e(I,!0);r(I),r(R);var Ft=s(R,4);aa(Ft,{}),E(()=>{c(Et,v.save_and_quit),c(Tt,v.copy_json_to_clipboard),W(j,"placeholder",v.save_state),A.disabled=!a(u),W(A,"aria-label",v.clear),I.disabled=!a(u),c(zt,v.import_save_state)}),Ot(j,()=>a(u),V=>i(u,V)),f(p,H)};S(_,p=>{a(y)==="error"?p(d):p(x,!1)},!0)}f(n,b)};S(g,n=>{a(y)==="loading"?n(m):n(q,!1)})}f(t,l)};S(vt,t=>{a(o)!==-1&&t(Pt)})}var qt=s(vt,2);Ut(qt),r(lt),r(M);var nt=s(M,2);{var At=t=>{var l=da(),g=e(l),m=e(g);{var q=_=>{var d=va(),x=e(d,!0);r(d),E(()=>c(x,v.empty_player_name)),f(_,d)};S(m,_=>{a(tt)&&_(q)})}var n=s(m,2);{var b=_=>{var d=na(),x=e(d,!0);r(d),E(()=>c(x,v.duplicate_players)),f(_,d)};S(n,_=>{a(Z)&&_(b)})}r(g),r(l),f(t,l)};S(nt,t=>{(a(Z)||a(tt))&&t(At)})}var dt=s(nt,2),Dt=e(dt);r(dt),E(t=>{c(ht,bt["werewolf-moderator"]),c(kt,Nt["werewolf-moderator"]),pt(T,1,Mt(["tabs-lift tabs w-full",a(o)!==-1&&"hidden"])),W(k,"aria-label",v.custom_roles),pt(Dt,1,`alert ${t??""}`)},[()=>yt[Yt()]]),X(B,[],C,()=>a(h),t=>i(h,t)),X(B,[],P,()=>a(h),t=>i(h,t)),X(B,[],k,()=>a(h),t=>i(h,t)),f(gt,et),$t()}It(["click","pointerup","keydown"]);export{ya as component};
