import{d as Bt,f as w,s as c,a as f,c as ct}from"../chunks/CGGH4L5V.js";import{p as Ft,f as F,s,c as e,i,d as D,g as a,t as L,a as It,h as ut,r,B as Kt,n as Gt}from"../chunks/CfxMfjxc.js";import{i as S}from"../chunks/BRGDtGkj.js";import{d as Jt,n as bt,s as W,v as Mt,r as I}from"../chunks/DyvSR6in.js";import{s as pt}from"../chunks/C1H3qzzB.js";import{c as X,b as Nt}from"../chunks/CiSmga37.js";import{b as Ot}from"../chunks/BBoo_Gsu.js";import{H as Qt}from"../chunks/DeHQiGEq.js";import{T as Rt,t as ft}from"../chunks/BJBDMyXZ.js";import{S as Ut,P as Vt,C as Wt,a as Xt,i as v,s as Y,b as Yt,c as mt,x as Zt,A as ta,d as aa,e as ea,l as ra}from"../chunks/DEaWGY9d.js";var sa=w('<div role="alert" class="alert w-full alert-vertical alert-soft text-base alert-error"><!> <div> </div> <div>Please follow the following steps:</div> <ol class="list list-decimal text-left text-base"><li> </li> <li> </li> <li>Send Link the save data</li> <li>Delete the save file</li></ol> <button class="btn btn-primary"> </button></div>'),oa=w('<span class="loading loading-xl loading-spinner"></span>'),la=w('<button class="btn btn-sm"> </button> <div class="w-full bg-base-100 p-4"><div class="border p-4"><!></div></div> <hr class="my-2 w-full opacity-25"/> <div class="flex flex-col items-center justify-center gap-4"><button class="btn btn-sm btn-primary"> </button> <div class="flex flex-row gap-1"><input class="input input-sm input-primary" type="text"/> <button class="btn px-1 btn-sm btn-error"><!></button></div> <button class="btn btn-sm btn-error"> </button></div> <hr class="my-2 w-full opacity-25"/> <!>',1),ia=w('<div class="alert w-full alert-vertical alert-soft py-1 text-base alert-error"> </div>'),va=w('<div class="alert w-full alert-vertical alert-soft py-1 text-base alert-error"> </div>'),na=w('<div class="fixed top-2 z-50 flex w-full justify-center"><div class="flex flex-col gap-1"><!> <!></div></div>'),da=w('<!> <div class="flex justify-center"><div class="tooltip-open tooltip tooltip-error" data-tip="Debug"><button class="text-2xl font-bold"> </button></div></div> <div class="text-center"> </div> <div class="m-1 mb-12 flex items-center justify-center"><div class="flex w-full max-w-sm flex-col items-center justify-center gap-1"><div><input type="radio" name="save_data" class="tab border-b-0! [--tab-border-color:--color-base-content]" aria-label="Save Data"/> <div class="tab-content border-base-content bg-base-100 p-4"><!></div> <input type="radio" name="save_data" class="tab border-b-0! [--tab-border-color:--color-base-content]" aria-label="Presets"/> <div class="tab-content border-base-content bg-base-100 p-4"><!></div> <input type="radio" name="save_data" class="tab border-b-0! [--tab-border-color:--color-base-content]"/> <div class="tab-content border-base-content bg-base-100 p-4"><!></div></div> <!> <!></div></div> <!> <div class="toast toast-end toast-top lg:toast-start lg:toast-bottom"><div>ðŸ’¾</div></div>',1);function ya(gt,xt){Ft(xt,!0);const K=[],wt=t=>{var l=sa(),g=e(l);aa(g);var m=s(g,2),q=e(m);r(m);var n=s(m,4),b=e(n),_=e(b,!0);r(b);var d=s(b,2),x=e(d,!0);r(d),Gt(4),r(n);var p=s(n,2);p.__click=()=>i(o,-1);var H=e(p,!0);r(p),r(l),L(()=>{c(q,`An error occurred while loading ${(mt[a(o)].label||`File #${a(o)+1}`)??""}'s save data.`),c(_,v.save_and_quit),c(x,v.copy_url_to_clipboard),c(H,v.save_and_quit)}),f(t,l)},yt={saving:"alert-warning",success:"alert-success",error:"alert-error"};let y=D("loading");const Z=ut(()=>Y.players.some(t=>Y.players.some(l=>t.id!==l.id&&t.name.toLowerCase()===l.name.toLowerCase()))),tt=ut(()=>Y.players.some(t=>!t.name));let h=D("slots"),o=D(-1),T=D(void 0),u=D("");function at(t){!a(u)||t instanceof KeyboardEvent&&t.key!=="Enter"||(ea(`werewolf-moderator[${a(o)}]`,a(u)),ra(a(u)))}var et=da(),rt=F(et);Qt(rt,{get title(){return bt["werewolf-moderator"]},get description(){return Jt["werewolf-moderator"]},uri:"werewolf-moderator/debug"});var G=s(rt,2),st=e(G),ot=e(st),ht=e(ot,!0);r(ot),r(st),r(G);var J=s(G,2),kt=e(J,!0);r(J);var M=s(J,2),lt=e(M),E=e(lt),C=e(E);I(C),C.value=C.__value="slots";var N=s(C,2),jt=e(N);Ut(jt,{get file(){return a(o)},set file(t){i(o,t,!0)},get load_save_status(){return a(y)},set load_save_status(t){i(y,t,!0)}}),r(N);var P=s(N,2);I(P),P.value=P.__value="presets";var O=s(P,2),St=e(O);Vt(St,{get load_save_status(){return a(y)},set load_save_status(t){i(y,t,!0)},get file(){return a(o)},set file(t){i(o,t,!0)}}),r(O);var k=s(O,2);I(k),k.value=k.__value="custom_roles";var it=s(k,2),Ct=e(it);Wt(Ct),r(it),r(E);var vt=s(E,2);{var Pt=t=>{var l=ct(),g=F(l);{var m=n=>{var b=oa();f(n,b)},q=n=>{var b=ct(),_=F(b);{var d=p=>{wt(p)},x=p=>{var H=la(),$=F(H);$.__click=()=>i(o,-1);var Lt=e($,!0);r($);var Q=s($,2),_t=e(Q),Tt=e(_t);Yt(Tt,{get a_slot(){return mt[a(o)]},get index(){return a(o)},show_time:!0}),r(_t),r(Q);var R=s(Q,4),z=e(R);z.__pointerup=async()=>{try{i(u,localStorage.getItem(`werewolf-moderator[${a(o)}]`)??"",!0),navigator.clipboard.writeText(a(u)),ft(v.copied_to_clipboard,"success",3e3)}catch{ft(v.failed_to_copy,"error",15e3),await Kt(),a(T)?.focus(),a(T)?.select()}};var Et=e(z,!0);r(z);var U=s(z,2),j=e(U);I(j),j.__keydown=at,Ot(j,V=>i(T,V),()=>a(T));var A=s(j,2);A.__click=()=>{i(u,"")};var Ht=e(A);Zt(Ht),r(A),r(U);var B=s(U,2);B.__click=at;var $t=e(B,!0);r(B),r(R);var zt=s(R,4);ta(zt,{}),L(()=>{c(Lt,v.save_and_quit),c(Et,v.copy_json_to_clipboard),W(j,"placeholder",v.save_state),A.disabled=!a(u),W(A,"aria-label",v.clear),B.disabled=!a(u),c($t,v.import_save_state)}),Nt(j,()=>a(u),V=>i(u,V)),f(p,H)};S(_,p=>{a(y)==="error"?p(d):p(x,!1)},!0)}f(n,b)};S(g,n=>{a(y)==="loading"?n(m):n(q,!1)})}f(t,l)};S(vt,t=>{a(o)!==-1&&t(Pt)})}var qt=s(vt,2);Rt(qt),r(lt),r(M);var nt=s(M,2);{var At=t=>{var l=na(),g=e(l),m=e(g);{var q=_=>{var d=ia(),x=e(d,!0);r(d),L(()=>c(x,v.empty_player_name)),f(_,d)};S(m,_=>{a(tt)&&_(q)})}var n=s(m,2);{var b=_=>{var d=va(),x=e(d,!0);r(d),L(()=>c(x,v.duplicate_players)),f(_,d)};S(n,_=>{a(Z)&&_(b)})}r(g),r(l),f(t,l)};S(nt,t=>{(a(Z)||a(tt))&&t(At)})}var dt=s(nt,2),Dt=e(dt);r(dt),L(t=>{c(ht,bt["werewolf-moderator"]),c(kt,Mt["werewolf-moderator"]),pt(E,1,`tabs-lift tabs w-full ${a(o)===-1?"":"hidden"}`),W(k,"aria-label",v.custom_roles),pt(Dt,1,`alert ${t??""}`)},[()=>yt[Xt()]]),X(K,[],C,()=>a(h),t=>i(h,t)),X(K,[],P,()=>a(h),t=>i(h,t)),X(K,[],k,()=>a(h),t=>i(h,t)),f(gt,et),It()}Bt(["click","pointerup","keydown"]);export{ya as component};
