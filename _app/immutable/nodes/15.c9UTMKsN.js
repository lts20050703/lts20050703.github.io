import{f as $,e as A,a as K,s as C}from"../chunks/CRRtVwjb.js";import{p as Y,e as z,u as v,b as I,i as g,d as H,o as B,f as J,s as l,c as y,t as q,a as F,g as S,r as _,l as E}from"../chunks/Dh-QpTF3.js";import{d as R,n as j,v as D,a as Q}from"../chunks/Cy2_tkpW.js";import{b as X}from"../chunks/DOUU1KB6.js";import{b as Z}from"../chunks/C9tYwez2.js";import{H as ee}from"../chunks/D7BGlCOR.js";import{L as te}from"../chunks/BxZt15vv.js";import{t as G,T as ie}from"../chunks/vJEF-6Cm.js";import{u as ne}from"../chunks/C6ltWnTA.js";function ae(t){const r=t.split(/ +/).filter(Boolean);let i="",e="",n=!0;for(const a of r)(se(a)||L(a)||ce(a))&&(n=!1),n?i+=`${a} `:e+=`${a} `;return{author:i.trim(),title:e.trim()}}function oe(t){return re(t).toUpperCase()}function re(t){const{title:r}=ae(t),i=[];for(const c of r.toLowerCase().split(" "))!c||L(c)||["&","-",",","(","["].includes(c)||i.push(...c.split(/ |-|&|,|\(|\[/).filter(Boolean));let e=i.shift(),n=i.shift()?.[0]??"";if(!e)return"";const a=ge[e];if(a&&(e=a),e.includes(" ")){const c=e.split(" ");e=c.shift(),n=c.shift()?.[0]??""}if(!e)return"";const o=pe[e];if(o)return o+n;let s="";if(e.startsWith("qu"))s=O(e,n,2)??"";else for(let c=0;c<e.length&&(s=O(e,n,c)??"",!s);c+=1);return ue(s,1,7)||(s=V(e,n),s||(s=V(ne(e),n))),s}function V(t,r){let i="";for(let e=0;e<t.length&&!i;e+=1)for(let n=t.length;n>e;n-=1){const a=f[t.slice(e,n)];if(a){if(e>3)continue;e===0?i+=t[0]:i+=t.slice(0,e),i+=a+r;break}}return i||(i=t[0]+"000"+r),i}function O(t,r,i){let e=f[t.slice(i)];if(e)return t.slice(0,Math.max(i,1))+e+r;let n=t;for(const[a,o]of Object.entries(le))n=n.replaceAll(a,o);if(e=f[n.slice(i)],e)return n.slice(0,Math.max(i,1))+e+r;for(const[a,o]of Object.entries(me))n=n.replaceAll(a,o);if(e=f[n.slice(i)],e)return n.slice(0,Math.max(i,1))+e+r}function L(t){return!Number.isNaN(Number.parseInt(t))}function se(t){return t.toUpperCase()!==t}function ce(t){return["SAT","IELTS","KEY","CAE","KET","FCE","PET","CPE","GRE","AP","C"].includes(t)}function ue(t,r,i){return r<=t.length&&t.length<=i}const f={a:"100",ac:"101",ach:"102",ai:"103",am:"104",an:"105",ang:"106",anh:"107",ao:"108",ap:"109",at:"110",au:"111",ay:"112",ăc:"113",ăm:"114",ăn:"115",ăng:"116",áp:"117",ăt:"118",âc:"119",âm:"120",ân:"121",âng:"122",âp:"123",ât:"124",âu:"125",ây:"126",e:"200",ec:"201",em:"202",en:"203",eng:"204",eo:"205",ep:"206",et:"207",ê:"250",êc:"251",êch:"252",êm:"253",ên:"254",êng:"255",ênh:"256",êp:"257",êt:"258",êu:"259",i:"300",ia:"301",ich:"302",iec:"303",iêm:"304",iên:"305",iêng:"306",iêp:"307",iêt:"308",iêu:"309",im:"310",in:"311",inh:"312",ip:"313",it:"314",iu:"315",o:"400",oa:"401",oac:"402",oach:"403",oai:"404",oam:"405",oan:"406",oang:"407",oanh:"408",oao:"409",oap:"410",oat:"411",oay:"412",oăc:"413",oăm:"414",oăn:"415",oăng:"416",oăp:"417",oăt:"418",oc:"419",oe:"420",oec:"421",oem:"422",oen:"423",oeng:"424",oeo:"425",oep:"426",oet:"427",oi:"428",om:"429",on:"430",ong:"431",ooc:"432",oong:"433",op:"434",ot:"435",ô:"450",ôc:"451",ôi:"452",ôm:"453",ôn:"454",ông:"455",ôông:"456",ôp:"457",ôt:"458",ơ:"460",ơc:"461",ơi:"462",ơm:"463",ơn:"464",ơng:"465",ơp:"466",ơt:"467",u:"500",ua:"501",uân:"502",uâng:"503",uât:"504",uây:"505",uc:"506",uê:"507",uêch:"508",uênh:"509",ui:"510",um:"511",un:"512",ung:"513",uôc:"514",uôi:"515",uôm:"516",uôn:"517",uông:"518",uôt:"519",uơ:"520",up:"521",ut:"523",uy:"524",uya:"525",uyêch:"526",uyên:"527",uyêt:"528",uym:"529",uyn:"530",uynh:"531",uyp:"532",uyt:"533",ư:"550",ưa:"551",ưc:"552",ưi:"553",ưm:"554",ưn:"555",ưng:"556",ươc:"557",ươi:"558",ươm:"559",ươn:"560",ương:"561",ươp:"562",ươt:"563",ươu:"564",ưt:"565",ưu:"566",y:"600",ych:"601",yêm:"602",yên:"603",yêng:"604",yêt:"605",yêu:"606",ym:"607",yn:"608",ynh:"609",yp:"610"},le={á:"a",à:"a",ả:"a",ã:"a",ạ:"a",ắ:"ă",ằ:"ă",ẳ:"ă",ẵ:"ă",ặ:"ă",ấ:"â",ầ:"â",ẩ:"â",ẫ:"â",ậ:"â",é:"e",è:"e",ẻ:"e",ẽ:"e",ẹ:"e",ế:"ê",ề:"ê",ể:"ê",ễ:"ê",ệ:"ê",í:"i",ì:"i",ỉ:"i",ĩ:"i",ị:"i",ó:"o",ò:"o",ỏ:"o",õ:"o",ọ:"o",ố:"ô",ồ:"ô",ổ:"ô",ỗ:"ô",ộ:"ô",ớ:"ơ",ờ:"ơ",ở:"ơ",ỡ:"ơ",ợ:"ơ",ú:"u",ù:"u",ủ:"u",ũ:"u",ụ:"u",ứ:"ư",ừ:"ư",ử:"ư",ữ:"ư",ự:"ư",ý:"y",ỳ:"y",ỷ:"y",ỹ:"y",ỵ:"y"},me={ă:"a",â:"a",đ:"d",ê:"e",ô:"o",ơ:"o",ư:"u"},pe={gi:"gi300",gim:"gi310",gin:"gi311",ginh:"gi312",gip:"gi313",git:"gi314"},ge={mr:"mister",ms:"miss",mrs:"mistress",dr:"doctor",www:"World Wide Web"};var fe=$(`<!> <div class="text-center text-2xl font-bold"> </div> <div class="text-center"> </div> <!> <!> <div class="my-4 flex flex-col items-center justify-center gap-1"><div class="text-warning">Sách Tiếng Việt phải nhập tên sách có dấu!</div> <div class="text-warning">TÊN TÁC GIẢ PHẢI VIẾT HOA HẾT!</div> <div class="text-warning">Tên Sách Không Được Viết Hoa Hết!</div> <div>App sẽ dựa vào từ có viết hoa hết hay không để nhận biết là từ đó là tên tác giả hay tên sách</div> <div>Ví dụ: "NGUYỄN VĂN A Tôi đã làm gì sai?" thì app sẽ hiểu tên tác giả là "NGUYỄN VĂN A", tên sách
		là "Tôi đã làm gì sai?"</div></div> <div class="m-1 grid grid-cols-[1fr_16rem] items-center justify-center gap-1"><div>TÊN TÁC GIẢ Tên sách (mỗi dòng 1 TÊN TÁC GIẢ Tên sách)</div> <div>Mã hóa sách (mỗi dòng 1 sách)</div> <textarea class="textarea resize-none textarea-primary svelte-1ty5fk7" cols="100" rows="1"></textarea> <textarea class="textarea h-full resize-none textarea-primary svelte-1ty5fk7" readonly="" cols="100" rows="1"></textarea></div>`,1);function Ne(t,r){Y(r,!0);const i=z({input:""});let e=H(""),n=0,a=!1,o,s=H("loading");v(()=>{I(async()=>{n=2;const u=localStorage.getItem("nang-khieu-library-encode");if(!u)g(s,"loaded");else try{const p=JSON.parse(u);typeof p=="object"&&p&&"input"in p&&typeof p.input=="string"&&(p.input=p.input,await B(),o.style.height="",o.style.height=`${o.scrollHeight+1}px`),g(s,"loaded");return}catch{g(s,"error")}})}),v(()=>{localStorage.setItem("nang-khieu-library-encode",JSON.stringify(i)),I(()=>{if(!a){if(n>0){n-=1;return}G("Autosaved!","success",1e3)}})}),v(()=>{g(e,i.input.split(`
`).map(u=>oe(u)).join(`
`),!0),o.style.height="",o.style.height=`${o.scrollHeight+1}px`});function c(){localStorage.removeItem("nang-khieu-library-encode"),location.reload()}function M(){a=!0}function P(){a=!1,G("Autosaved!","success",1e3)}var b=fe(),x=J(b);ee(x,{get title(){return j["nang-khieu-library"]},get description(){return R["nang-khieu-library"]},uri:"nang-khieu-library/encode"});var d=l(x,2),U=y(d,!0);_(d);var h=l(d,2),W=y(h,!0);_(h);var T=l(h,2);ie(T,{});var k=l(T,2);te(k,{get status(){return S(s)},clear_save:c});var N=l(k,4),m=l(y(N),4);E(m),Z(m,u=>o=u,()=>o);var w=l(m,2);E(w),_(N),q(()=>{C(U,j["nang-khieu-library"]),C(W,D["nang-khieu-library"]),Q(w,S(e))}),A("focus",m,M),A("blur",m,P),X(m,()=>i.input,u=>i.input=u),K(t,b),F()}export{Ne as component};
