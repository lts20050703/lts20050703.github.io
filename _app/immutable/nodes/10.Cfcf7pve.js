import{f as W,a as C,s as w,e as f}from"../chunks/CGGH4L5V.js";import{p as it,d as O,e as j,u as ut,i as m,g as e,h as E,f as L,s as r,a as dt,c as d,r as l,t as Q}from"../chunks/CfxMfjxc.js";import{i as lt}from"../chunks/BRGDtGkj.js";import{d as ct,n as R,r as v,v as mt,a as S}from"../chunks/D9TFczYF.js";import{s as U}from"../chunks/C1H3qzzB.js";import{a as V}from"../chunks/CiSmga37.js";import{p as h}from"../chunks/ByLjFYk9.js";import{H as pt}from"../chunks/rGZ5Aw7V.js";var vt=W('<div class="fixed inset-0 flex flex-col items-center justify-center font-mono"><div class="time text-9xl text-white"> </div> <div class="text-white"> </div></div>'),gt=W('<div class="text-center text-2xl font-bold"> </div> <div class="text-center"> </div> <div class="m-1 flex flex-col items-center justify-center gap-1"><form><div><div class="text-3xl">Custom Start Time</div> <input type="checkbox" class="toggle toggle-lg toggle-primary"/></div> <div class="flex flex-col items-center justify-center gap-1 sm:flex-row"><div> </div> <input class="input input-sm input-primary" type="text" placeholder="hours" min="0" max="99"/> <input class="input input-sm input-primary" type="text" placeholder="minutes" min="0" max="99"/> <input class="input input-sm input-primary" type="text" placeholder="seconds" min="0" max="99"/></div> <div><div class="text-3xl">Duration</div> <input class="input input-sm input-primary" type="text" placeholder="hours" min="0" max="99"/> <input class="input input-sm input-primary" type="text" placeholder="minutes" min="0" max="99"/> <input class="input input-sm input-primary" type="text" placeholder="seconds" min="0" max="99"/></div> <div class="flex items-center justify-center"><button type="submit" class="btn btn-primary">COUNTDOWN</button></div> <div class="flex items-center justify-center gap-1"><div class="text-3xl">Alt Mode</div> <input class="toggle toggle-lg toggle-primary" type="checkbox"/></div></form></div>',1),ft=W("<!> <!>",1);function $t(X,Z){it(Z,!0);let o=O(j({countdown:!1,alt:!1,start:{hours:0,minutes:0,seconds:0},duration:{hours:0,minutes:0,seconds:0}}));const _=new Date,t=j({start:{hours:0,minutes:0,seconds:0},duration:{hours:0,minutes:0,seconds:0},alt:!1});let g=E(()=>t.alt);function tt(){location.href=`./?start_hours=${t.start.hours}&start_minutes=${t.start.minutes}&start_seconds=${t.start.seconds}&duration_hours=${t.duration.hours}&duration_minutes=${t.duration.minutes}&duration_seconds=${t.duration.seconds}${t.alt?"&alt":""}`}const P=E(()=>new Date(_.getFullYear(),_.getMonth(),_.getDate(),e(o).start.hours,e(o).start.minutes,e(o).start.seconds).getTime()),et=E(()=>((e(o).duration.hours*60+e(o).duration.minutes)*60+e(o).duration.seconds)*1e3);let p=O(j({hours:"",minutes:"",seconds:""})),x=O(j({hours:_.getHours().toString().padStart(2,"0"),minutes:_.getMinutes().toString().padStart(2,"0"),seconds:_.getSeconds().toString().padStart(2,"0")}));ut(()=>{const i={hours:h.url.searchParams.get("start_hours"),minutes:h.url.searchParams.get("start_minutes"),seconds:h.url.searchParams.get("start_seconds")},u={hours:h.url.searchParams.get("duration_hours"),minutes:h.url.searchParams.get("duration_minutes"),seconds:h.url.searchParams.get("duration_seconds")};m(o,{countdown:i.hours!==null&&i.minutes!==null&&i.seconds!==null&&u.hours!==null&&u.minutes!==null&&u.seconds!==null,alt:h.url.searchParams.get("alt")!==null,start:{hours:Number.parseInt(i.hours??""),minutes:Number.parseInt(i.minutes??""),seconds:Number.parseInt(i.seconds??"")},duration:{hours:Number.parseInt(u.hours??""),minutes:Number.parseInt(u.minutes??""),seconds:Number.parseInt(u.seconds??"")}},!0),requestAnimationFrame(c);function c(){if(e(o).countdown)if(Date.now()>=e(P)+1e3){if(e(o).alt)m(p,{hours:"00",minutes:"00",seconds:"00"},!0);else{const a=e(P)+e(et)-Date.now()+1e3;a<0?m(p,{hours:"00",minutes:"00",seconds:"00"},!0):m(p,{hours:Math.floor(a/36e5).toString().padStart(2,"0"),minutes:Math.floor(a%36e5/6e4).toString().padStart(2,"0"),seconds:Math.floor(a%6e4/1e3).toString().padStart(2,"0")},!0)}const s=new Date;m(x,{hours:s.getHours().toString().padStart(2,"0"),minutes:s.getMinutes().toString().padStart(2,"0"),seconds:s.getSeconds().toString().padStart(2,"0")},!0)}else{const s=e(P)-Date.now()+1e3;if(e(o).alt){m(p,{hours:Math.floor(s/36e5).toString().padStart(2,"0"),minutes:Math.floor(s%36e5/6e4).toString().padStart(2,"0"),seconds:Math.floor(s%6e4/1e3).toString().padStart(2,"0")},!0);const a=new Date;m(x,{hours:a.getHours().toString().padStart(2,"0"),minutes:a.getMinutes().toString().padStart(2,"0"),seconds:a.getSeconds().toString().padStart(2,"0")},!0)}else m(x,{hours:Math.floor(s/36e5).toString().padStart(2,"0"),minutes:Math.floor(s%36e5/6e4).toString().padStart(2,"0"),seconds:Math.floor(s%6e4/1e3).toString().padStart(2,"0")},!0),m(p,{hours:e(o).duration.hours.toString().padStart(2,"0"),minutes:e(o).duration.minutes.toString().padStart(2,"0"),seconds:e(o).duration.seconds.toString().padStart(2,"0")},!0)}else if(!e(g)){const s=new Date;t.start={hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds()}}requestAnimationFrame(c)}});var Y=ft(),z=L(Y);pt(z,{get title(){return R.countdown},get description(){return ct.countdown},uri:"countdown"});var st=r(z,2);{var rt=i=>{var u=vt(),c=d(u),s=d(c);l(c);var a=r(c,2),H=d(a);l(a),l(u),Q(()=>{w(s,`${e(p).hours??""}:${e(p).minutes??""}:${e(p).seconds??""}`),w(H,`${e(x).hours??""}:${e(x).minutes??""}:${e(x).seconds??""}`)}),C(i,u)},at=i=>{var u=gt(),c=L(u),s=d(c,!0);l(c);var a=r(c,2),H=d(a,!0);l(a);var B=r(a,2),k=d(B),M=d(k),G=r(d(M),2);v(G),l(M);var A=r(M,2),$=d(A),nt=d($);l($);var b=r($,2);v(b);var y=r(b,2);v(y);var I=r(y,2);v(I),l(A);var D=r(A,2),T=r(d(D),2);v(T);var N=r(T,2);v(N);var F=r(N,2);v(F),l(D);var q=r(D,2),ot=d(q);l(q);var J=r(q,2),K=r(d(J),2);v(K),l(J),l(k),l(B),Q(()=>{w(s,R.countdown),w(H,mt.countdown),U(M,1,`flex flex-col items-center justify-center gap-1 sm:flex-row ${t.alt?"invisible":""}`),U($,1,`text-3xl ${e(g)?"":"text-base-content/50"}`),w(nt,`${t.alt?"End":"Start"} Time`),b.disabled=!e(g),S(b,t.start.hours),y.disabled=!e(g),S(y,t.start.minutes),I.disabled=!e(g),S(I,t.start.seconds),U(D,1,`flex flex-col items-center justify-center gap-1 sm:flex-row ${t.alt?"invisible":""}`),S(T,t.duration.hours),S(N,t.duration.minutes),S(F,t.duration.seconds),ot.disabled=t.alt?!1:!(t.duration.hours||t.duration.minutes||t.duration.seconds)}),f("submit",k,tt),V(G,()=>e(g),n=>m(g,n)),f("blur",b,n=>{t.start.hours=parseInt(n.currentTarget.value)}),f("blur",y,n=>{t.start.minutes=parseInt(n.currentTarget.value)}),f("blur",I,n=>{t.start.seconds=parseInt(n.currentTarget.value)}),f("blur",T,n=>{t.duration.hours=parseInt(n.currentTarget.value)}),f("blur",N,n=>{t.duration.minutes=parseInt(n.currentTarget.value)}),f("blur",F,n=>{t.duration.seconds=parseInt(n.currentTarget.value)}),V(K,()=>t.alt,n=>t.alt=n),C(i,u)};lt(st,i=>{e(o).countdown?i(rt):i(at,!1)})}C(X,Y),dt()}export{$t as component};
