import"../chunks/DsnmJJEf.js";import{p as ot,h as C,i as N,u as it,k as m,g as e,j as O,l as ut,a as K,b as E,c as dt,t as U,$ as lt,f as R,d,r as l,s as n}from"../chunks/fRTlKJc5.js";import{h as ct,s as w,e as g}from"../chunks/ChByKK8l.js";import{i as mt}from"../chunks/BGNtTwbM.js";import{r as v,a as S}from"../chunks/BjZBy5iL.js";import{s as W}from"../chunks/CB-vSWM3.js";import{a as L}from"../chunks/D3jRnHxe.js";import{p as f}from"../chunks/D-MggKv_.js";import{n as Q,v as pt}from"../chunks/DVSrS0GQ.js";var vt=R('<div class="fixed inset-0 flex flex-col items-center justify-center font-mono"><div class="time text-9xl text-white"> </div> <div class="text-white"> </div></div>'),ht=R('<div class="text-center text-2xl font-bold"> </div> <div class="text-center"> </div> <div class="m-1 flex flex-col items-center justify-center gap-1"><form><div><div class="text-3xl">Custom Start Time</div> <input type="checkbox" class="toggle toggle-primary toggle-lg"/></div> <div class="flex flex-col items-center justify-center gap-1 sm:flex-row"><div> </div> <input class="input input-sm input-primary" type="text" placeholder="hours" min="0" max="99"/> <input class="input input-sm input-primary" type="text" placeholder="minutes" min="0" max="99"/> <input class="input input-sm input-primary" type="text" placeholder="seconds" min="0" max="99"/></div> <div><div class="text-3xl">Duration</div> <input class="input input-sm input-primary" type="text" placeholder="hours" min="0" max="99"/> <input class="input input-sm input-primary" type="text" placeholder="minutes" min="0" max="99"/> <input class="input input-sm input-primary" type="text" placeholder="seconds" min="0" max="99"/></div> <div class="flex items-center justify-center"><button type="submit" class="btn btn-primary">COUNTDOWN</button></div> <div class="flex items-center justify-center gap-1"><div class="text-3xl">Alt Mode</div> <input class="toggle toggle-primary toggle-lg" type="checkbox"/></div></form></div>',1);function Mt(V,X){ot(X,!0);let o=C(N({countdown:!1,alt:!1,start:{hours:0,minutes:0,seconds:0},duration:{hours:0,minutes:0,seconds:0}}));const _=new Date,t=N({start:{hours:0,minutes:0,seconds:0},duration:{hours:0,minutes:0,seconds:0},alt:!1});let h=O(()=>t.alt);function Z(){location.href=`./?start_hours=${t.start.hours}&start_minutes=${t.start.minutes}&start_seconds=${t.start.seconds}&duration_hours=${t.duration.hours}&duration_minutes=${t.duration.minutes}&duration_seconds=${t.duration.seconds}${t.alt?"&alt":""}`}const P=O(()=>new Date(_.getFullYear(),_.getMonth(),_.getDate(),e(o).start.hours,e(o).start.minutes,e(o).start.seconds).getTime()),tt=O(()=>((e(o).duration.hours*60+e(o).duration.minutes)*60+e(o).duration.seconds)*1e3);let p=C(N({hours:"",minutes:"",seconds:""})),x=C(N({hours:_.getHours().toString().padStart(2,"0"),minutes:_.getMinutes().toString().padStart(2,"0"),seconds:_.getSeconds().toString().padStart(2,"0")}));it(()=>{const i={hours:f.url.searchParams.get("start_hours"),minutes:f.url.searchParams.get("start_minutes"),seconds:f.url.searchParams.get("start_seconds")},u={hours:f.url.searchParams.get("duration_hours"),minutes:f.url.searchParams.get("duration_minutes"),seconds:f.url.searchParams.get("duration_seconds")};m(o,{countdown:i.hours!==null&&i.minutes!==null&&i.seconds!==null&&u.hours!==null&&u.minutes!==null&&u.seconds!==null,alt:f.url.searchParams.get("alt")!==null,start:{hours:Number.parseInt(i.hours??""),minutes:Number.parseInt(i.minutes??""),seconds:Number.parseInt(i.seconds??"")},duration:{hours:Number.parseInt(u.hours??""),minutes:Number.parseInt(u.minutes??""),seconds:Number.parseInt(u.seconds??"")}},!0),requestAnimationFrame(c);function c(){if(e(o).countdown)if(Date.now()>=e(P)+1e3){if(e(o).alt)m(p,{hours:"00",minutes:"00",seconds:"00"},!0);else{const r=e(P)+e(tt)-Date.now()+1e3;r<0?m(p,{hours:"00",minutes:"00",seconds:"00"},!0):m(p,{hours:Math.floor(r/36e5).toString().padStart(2,"0"),minutes:Math.floor(r%36e5/6e4).toString().padStart(2,"0"),seconds:Math.floor(r%6e4/1e3).toString().padStart(2,"0")},!0)}const s=new Date;m(x,{hours:s.getHours().toString().padStart(2,"0"),minutes:s.getMinutes().toString().padStart(2,"0"),seconds:s.getSeconds().toString().padStart(2,"0")},!0)}else{const s=e(P)-Date.now()+1e3;if(e(o).alt){m(p,{hours:Math.floor(s/36e5).toString().padStart(2,"0"),minutes:Math.floor(s%36e5/6e4).toString().padStart(2,"0"),seconds:Math.floor(s%6e4/1e3).toString().padStart(2,"0")},!0);const r=new Date;m(x,{hours:r.getHours().toString().padStart(2,"0"),minutes:r.getMinutes().toString().padStart(2,"0"),seconds:r.getSeconds().toString().padStart(2,"0")},!0)}else m(x,{hours:Math.floor(s/36e5).toString().padStart(2,"0"),minutes:Math.floor(s%36e5/6e4).toString().padStart(2,"0"),seconds:Math.floor(s%6e4/1e3).toString().padStart(2,"0")},!0),m(p,{hours:e(o).duration.hours.toString().padStart(2,"0"),minutes:e(o).duration.minutes.toString().padStart(2,"0"),seconds:e(o).duration.seconds.toString().padStart(2,"0")},!0)}else if(!e(h)){const s=new Date;t.start={hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds()}}requestAnimationFrame(c)}});var Y=ut();ct(i=>{U(()=>lt.title=Q.countdown)});var et=K(Y);{var st=i=>{var u=vt(),c=d(u),s=d(c);l(c);var r=n(c,2),k=d(r);l(r),l(u),U(()=>{w(s,`${e(p).hours??""}:${e(p).minutes??""}:${e(p).seconds??""}`),w(k,`${e(x).hours??""}:${e(x).minutes??""}:${e(x).seconds??""}`)}),E(i,u)},rt=i=>{var u=ht(),c=K(u),s=d(c,!0);l(c);var r=n(c,2),k=d(r,!0);l(r);var z=n(r,2),H=d(z),$=d(H),B=n(d($),2);v(B),l($);var A=n($,2),M=d(A),at=d(M);l(M);var b=n(M,2);v(b);var y=n(b,2);v(y);var I=n(y,2);v(I),l(A);var D=n(A,2),T=n(d(D),2);v(T);var j=n(T,2);v(j);var F=n(j,2);v(F),l(D);var q=n(D,2),nt=d(q);l(q);var G=n(q,2),J=n(d(G),2);v(J),l(G),l(H),l(z),U(()=>{w(s,Q.countdown),w(k,pt.countdown),W($,1,`flex flex-col items-center justify-center gap-1 sm:flex-row ${t.alt?"invisible":""}`),W(M,1,`text-3xl ${e(h)?"":"text-base-content/50"}`),w(at,`${t.alt?"End":"Start"} Time`),b.disabled=!e(h),S(b,t.start.hours),y.disabled=!e(h),S(y,t.start.minutes),I.disabled=!e(h),S(I,t.start.seconds),W(D,1,`flex flex-col items-center justify-center gap-1 sm:flex-row ${t.alt?"invisible":""}`),S(T,t.duration.hours),S(j,t.duration.minutes),S(F,t.duration.seconds),nt.disabled=t.alt?!1:!(t.duration.hours||t.duration.minutes||t.duration.seconds)}),g("submit",H,Z),L(B,()=>e(h),a=>m(h,a)),g("blur",b,a=>{t.start.hours=parseInt(a.currentTarget.value)}),g("blur",y,a=>{t.start.minutes=parseInt(a.currentTarget.value)}),g("blur",I,a=>{t.start.seconds=parseInt(a.currentTarget.value)}),g("blur",T,a=>{t.duration.hours=parseInt(a.currentTarget.value)}),g("blur",j,a=>{t.duration.minutes=parseInt(a.currentTarget.value)}),g("blur",F,a=>{t.duration.seconds=parseInt(a.currentTarget.value)}),L(J,()=>t.alt,a=>t.alt=a),E(i,u)};mt(et,i=>{e(o).countdown?i(st):i(rt,!1)})}E(V,Y),dt()}export{Mt as component};
