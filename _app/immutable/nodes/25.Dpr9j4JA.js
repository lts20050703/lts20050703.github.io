import{f as O,a as J}from"../chunks/BAhx-X9G.js";import{p as me,u as W,b as X,i,d as x,g as o,f as K,s as e,c as a,k as be,t as L,a as fe,r}from"../chunks/DpYMcOls.js";import{d as ye,s as v}from"../chunks/DO8qiAfh.js";import{i as Y}from"../chunks/A2GgpgHd.js";import{d as ge,n as Z,r as N,s as h,v as we}from"../chunks/BaETQRMq.js";import{b as xe,c as $}from"../chunks/qtjqsBgj.js";import{b as he}from"../chunks/CW-jDeH3.js";import{H as ke}from"../chunks/D8CBjT4n.js";import{t as b,T as Se}from"../chunks/CSkIyDrm.js";import{l as je,s as Ie,x as Te,a as Ee,b as Fe,e as He,p as Ae,c as Ce,d as Je,i as l}from"../chunks/rKBdwL6f.js";var Ke=O('<hr class="my-2 w-full opacity-25"/> <div class="text-error"> </div>',1),Le=O('<!> <hr class="my-2 w-full opacity-25"/> <div class="tabs-lift tabs w-full"><input type="radio" name="section" class="tab border-b-0! [--tab-border-color:--color-base-content]"/> <div class="tab-content border-base-content bg-base-100 p-4"><div class="flex flex-col items-center justify-center gap-1"><!> <hr class="my-2 w-full opacity-25"/> <!> <hr class="my-2 w-full opacity-25"/> <!></div></div> <input type="radio" name="section" class="tab border-b-0! [--tab-border-color:--color-base-content]"/> <div class="tab-content border-base-content bg-base-100 p-4"><div class="flex flex-col items-center justify-center gap-1"><!></div></div></div> <!>',1),Ne=O('<!> <div class="text-center text-2xl font-bold"> </div> <div class="text-center"> </div> <div class="m-1 flex items-center justify-center"><div class="flex w-full max-w-sm flex-col items-center justify-center gap-1"><hr class="my-2 w-full opacity-25"/> <div class="text-3xl"> </div> <div class="mt-4 flex flex-col items-center justify-center gap-1"><button class="btn btn-sm btn-primary"> </button> <div class="mt-4 flex flex-row gap-1"><input class="input input-sm input-primary" type="text"/> <button class="btn px-1 btn-sm btn-error"><!></button></div> <button class="btn btn-sm btn-error"> </button></div> <!> <!></div></div> <!>',1);function Ue(ee,te){me(te,!0);const q=[];let f,k=x("loading"),s=x(""),S=x(void 0),y=x("players");W(()=>X(()=>{try{i(k,je(localStorage.getItem("werewolf-moderator"),!0),!0),b("Loaded save!","success",3e3)}catch(t){b("Failed to load save!","error",3e3),i(S,t,!0)}})),W(()=>{o(k)==="loaded"&&(localStorage.setItem("werewolf-moderator",JSON.stringify(Ie)),X(()=>b("Autosaved!","success",1e3)))});function z(t){o(s)===""||t instanceof KeyboardEvent&&t.key!=="Enter"||(localStorage.setItem("werewolf-moderator",o(s)),location.reload())}var B=Ne(),D=K(B);ke(D,{get title(){return Z["werewolf-moderator"]},get description(){return ge["werewolf-moderator"]},uri:"werewolf-moderator/debug"});var j=e(D,2),ae=a(j,!0);r(j);var I=e(j,2),re=a(I,!0);r(I);var T=e(I,2),G=a(T),E=e(a(G),2),oe=a(E,!0);r(E);var F=e(E,2),g=a(F);g.__pointerup=async()=>{try{navigator.clipboard.writeText(localStorage.getItem("werewolf-moderator")??""),b("Copied to clipboard!","success",3e3)}catch{b("Failed to copy to clipboard! The save state has been put into the input below, so you can copy it manually.","error",15e3),i(s,localStorage.getItem("werewolf-moderator")??"",!0),await be(),f.focus(),f.select()}};var se=a(g,!0);r(g);var H=e(g,2),d=a(H);N(d),d.__keydown=z,he(d,t=>f=t,()=>f);var _=e(d,2);_.__click=()=>{i(s,"")};var ie=a(_);Te(ie),r(_),r(H);var w=e(H,2);w.__click=z;var le=a(w,!0);r(w),r(F);var M=e(F,2);{var de=t=>{var u=Ke(),p=e(K(u),2),m=a(p,!0);r(p),L(()=>v(m,o(S))),J(t,u)};Y(M,t=>{o(S)&&t(de)})}var ne=e(M,2);{var ce=t=>{var u=Le(),p=K(u);Ee(p);var m=e(p,4),n=a(m);N(n),n.value=n.__value="players";var A=e(n,2),P=a(A),Q=a(P);Fe(Q);var R=e(Q,4);He(R);var _e=e(R,4);Ae(_e),r(P),r(A);var c=e(A,2);N(c),c.value=c.__value="roles";var U=e(c,2),V=a(U),ue=a(V);Ce(ue),r(V),r(U),r(m);var pe=e(m,2);Je(pe),L(()=>{h(n,"aria-label",l.players),h(c,"aria-label",l.roles)}),$(q,[],n,()=>o(y),C=>i(y,C)),$(q,[],c,()=>o(y),C=>i(y,C)),J(t,u)};Y(ne,t=>{o(k)==="loaded"&&t(ce)})}r(G),r(T);var ve=e(T,2);Se(ve,{}),L(()=>{v(ae,Z["werewolf-moderator"]),v(re,we["werewolf-moderator"]),v(oe,l.debug),v(se,l.copy_save_state_to_clipboard),h(d,"placeholder",l.save_state),_.disabled=!o(s),h(_,"aria-label",l.clear),w.disabled=!o(s),v(le,l.import_save_state)}),xe(d,()=>o(s),t=>i(s,t)),J(ee,B),fe()}ye(["pointerup","keydown","click"]);export{Ue as component};
