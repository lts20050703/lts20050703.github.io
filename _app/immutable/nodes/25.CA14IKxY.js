import"../chunks/DsnmJJEf.js";import{p as pt,u as W,e as X,k as l,h as k,g as s,f as B,a as N,s as t,d as e,o as ut,t as O,b as q,c as bt,r as a}from"../chunks/fRTlKJc5.js";import{d as mt,s as _}from"../chunks/ChByKK8l.js";import{i as Y}from"../chunks/BGNtTwbM.js";import{r as z,s as S}from"../chunks/BjZBy5iL.js";import{b as ft,c as Z}from"../chunks/D3jRnHxe.js";import{b as yt}from"../chunks/BX2B2b48.js";import{n as gt,v as xt}from"../chunks/DVSrS0GQ.js";import{t as y,T as wt}from"../chunks/brOtyZDp.js";import{l as ht,s as kt,x as St,a as jt,b as It,e as Tt,p as Et,c as Ft,d as At,i}from"../chunks/Dh8C38t6.js";function $(p,n){s(n)===""||p instanceof KeyboardEvent&&p.key!=="Enter"||(localStorage.setItem("werewolf-moderator",s(n)),location.reload())}var Ct=(p,n)=>{l(n,"")},Jt=B('<hr class="my-2 w-full opacity-25"/> <div class="text-error"> </div>',1),Kt=B('<!> <hr class="my-2 w-full opacity-25"/> <div class="tabs tabs-lift w-full"><input type="radio" name="section" class="tab border-b-0! [--tab-border-color:--color-base-content]"/> <div class="tab-content bg-base-100 border-base-content p-4"><div class="flex flex-col items-center justify-center gap-1"><!> <hr class="my-2 w-full opacity-25"/> <!> <hr class="my-2 w-full opacity-25"/> <!></div></div> <input type="radio" name="section" class="tab border-b-0! [--tab-border-color:--color-base-content]"/> <div class="tab-content bg-base-100 border-base-content p-4"><div class="flex flex-col items-center justify-center gap-1"><!></div></div></div> <!>',1),Lt=B('<div class="text-center text-2xl font-bold"> </div> <div class="text-center"> </div> <div class="m-1 flex items-center justify-center"><div class="flex w-full max-w-96 flex-col items-center justify-center gap-1"><hr class="my-2 w-full opacity-25"/> <div class="text-3xl"> </div> <div class="mt-4 flex flex-col items-center justify-center gap-1"><button class="btn btn-primary btn-sm"> </button> <div class="mt-4 flex flex-row gap-1"><input class="input input-sm input-primary" type="text"/> <button class="btn btn-error btn-sm px-1"><!></button></div> <button class="btn btn-error btn-sm"> </button></div> <!> <!></div></div> <!>',1);function Qt(p,n){pt(n,!0);const D=[];let g,j=k("loading"),o=k(""),I=k(void 0),x=k("players");W(()=>X(()=>{try{l(j,ht(localStorage.getItem("werewolf-moderator"),!0),!0),y("Loaded save!","success",3e3)}catch(r){y("Failed to load save!","error",3e3),l(I,r,!0)}})),W(()=>{s(j)==="loaded"&&(localStorage.setItem("werewolf-moderator",JSON.stringify(kt)),X(()=>y("Autosaved!","success",1e3)))});var G=Lt(),T=N(G),tt=e(T,!0);a(T);var E=t(T,2),et=e(E,!0);a(E);var F=t(E,2),H=e(F),A=t(e(H),2),at=e(A,!0);a(A);var C=t(A,2),w=e(C);w.__pointerup=async()=>{try{navigator.clipboard.writeText(localStorage.getItem("werewolf-moderator")??""),y("Copied to clipboard!","success",3e3)}catch{y("Failed to copy to clipboard! The save state has been put into the input below, so you can copy it manually.","error",15e3),l(o,localStorage.getItem("werewolf-moderator")??"",!0),await ut(),g.focus(),g.select()}};var rt=e(w,!0);a(w);var J=t(w,2),c=e(J);z(c),c.__keydown=[$,o],yt(c,r=>g=r,()=>g);var u=t(c,2);u.__click=[Ct,o];var st=e(u);St(st),a(u),a(J);var h=t(J,2);h.__click=[$,o];var ot=e(h,!0);a(h),a(C);var M=t(C,2);{var it=r=>{var b=Jt(),m=t(N(b),2),f=e(m,!0);a(m),O(()=>_(f,s(I))),q(r,b)};Y(M,r=>{s(I)&&r(it)})}var lt=t(M,2);{var nt=r=>{var b=Kt(),m=N(b);jt(m);var f=t(m,4),d=e(f);z(d),d.value=d.__value="players";var K=t(d,2),P=e(K),Q=e(P);It(Q);var R=t(Q,4);Tt(R);var dt=t(R,4);Et(dt),a(P),a(K);var v=t(K,2);z(v),v.value=v.__value="roles";var U=t(v,2),V=e(U),vt=e(V);Ft(vt),a(V),a(U),a(f);var _t=t(f,2);At(_t),O(()=>{S(d,"aria-label",i.players),S(v,"aria-label",i.roles)}),Z(D,[],d,()=>s(x),L=>l(x,L)),Z(D,[],v,()=>s(x),L=>l(x,L)),q(r,b)};Y(lt,r=>{s(j)==="loaded"&&r(nt)})}a(H),a(F);var ct=t(F,2);wt(ct,{}),O(()=>{_(tt,gt["werewolf-moderator"]),_(et,xt["werewolf-moderator"]),_(at,i.debug),_(rt,i.copy_save_state_to_clipboard),S(c,"placeholder",i.save_state),u.disabled=!s(o),S(u,"aria-label",i.clear),h.disabled=!s(o),_(ot,i.import_save_state)}),ft(c,()=>s(o),r=>l(o,r)),q(p,G),bt()}mt(["pointerup","keydown","click"]);export{Qt as component};
