import{d as Ht,f as w,s as c,a as f,c as vt}from"../chunks/CvMGA4kx.js";import{p as zt,f as I,s,c as e,i as n,d as A,g as a,t as D,a as Ft,h as nt,r,E as It,n as Kt}from"../chunks/CFdZUXEq.js";import{i as k}from"../chunks/BuzIUImT.js";import{d as $t,n as dt,a as _t,h as Bt,v as Gt,r as Q,s as ct}from"../chunks/DarGZ4lb.js";import{c as ut,b as Jt}from"../chunks/YtrRdRBi.js";import{b as Mt}from"../chunks/BLJ1O3rQ.js";import{H as Nt}from"../chunks/Z_kiVScl.js";import{T as Ot,t as pt}from"../chunks/RPfeOJlG.js";import{S as Qt,P as Rt,a as Ut,s as R,i as d,b as Vt,c as bt,x as Wt,A as Xt,d as Yt,e as Zt,l as ta}from"../chunks/B-riRJtb.js";var aa=w('<div role="alert" class="alert w-full alert-vertical alert-soft text-base alert-error"><!> <div> </div> <div>Please follow the following steps:</div> <ol class="list list-decimal text-left text-base"><li> </li> <li> </li> <li>Send Link the save data</li> <li>Delete the save file</li></ol> <button class="btn btn-primary"> </button></div>'),ea=w('<span class="loading loading-xl loading-spinner"></span>'),ra=w('<button class="btn btn-sm"> </button> <div class="w-full bg-base-100 p-4"><div class="border p-4"><!></div></div> <hr class="my-2 w-full opacity-25"/> <div class="flex flex-col items-center justify-center gap-4"><button class="btn btn-sm btn-primary"> </button> <div class="flex flex-row gap-1"><input class="input input-sm input-primary" type="text"/> <button class="btn px-1 btn-sm btn-error"><!></button></div> <button class="btn btn-sm btn-error"> </button></div> <hr class="my-2 w-full opacity-25"/> <!>',1),sa=w('<div class="alert w-full alert-vertical alert-soft py-1 text-base alert-error"> </div>'),oa=w('<div class="alert w-full alert-vertical alert-soft py-1 text-base alert-error"> </div>'),la=w('<div class="fixed top-2 z-50 flex w-full justify-center"><div class="flex flex-col gap-1"><!> <!></div></div>'),ia=w('<!> <div class="flex justify-center"><div class="tooltip-open tooltip tooltip-error" data-tip="Debug"><button class="text-2xl font-bold"> </button></div></div> <div class="text-center"> </div> <div class="m-1 mb-12 flex items-center justify-center"><div class="flex w-full max-w-sm flex-col items-center justify-center gap-1"><div><input type="radio" name="save_data" class="tab border-b-0! [--tab-border-color:--color-base-content]" aria-label="Save Data"/> <div class="tab-content border-base-content bg-base-100 p-4"><!></div> <input type="radio" name="save_data" class="tab border-b-0! [--tab-border-color:--color-base-content]" aria-label="Presets"/> <div class="tab-content border-base-content bg-base-100 p-4"><!></div></div> <!> <!></div></div> <!> <div class="toast toast-end toast-top lg:toast-start lg:toast-bottom"><div>ðŸ’¾</div></div>',1);function ma(ft,mt){zt(mt,!0);const U=[],gt=t=>{var l=aa(),g=e(l);Yt(g);var m=s(g,2),P=e(m);r(m);var i=s(m,4),p=e(i),_=e(p,!0);r(p);var v=s(p,2),x=e(v,!0);r(v),Kt(4),r(i);var b=s(i,2);b.__click=()=>n(o,-1);var C=e(b,!0);r(b),r(l),D(()=>{c(P,`An error occurred while loading ${(bt[a(o)].label||`File #${a(o)+1}`)??""}'s save data.`),c(_,d.save_and_quit),c(x,d.copy_url_to_clipboard),c(C,d.save_and_quit)}),f(t,l)},xt={saving:"alert-warning",success:"alert-success",error:"alert-error"};let y=A("loading");const V=nt(()=>R.players.some(t=>R.players.some(l=>t.id!==l.id&&t.name.toLowerCase()===l.name.toLowerCase()))),W=nt(()=>R.players.some(t=>!t.name));let E=A("slots"),o=A(-1),L=A(void 0),u=A("");function X(t){!a(u)||t instanceof KeyboardEvent&&t.key!=="Enter"||(Zt(`werewolf-moderator[${a(o)}]`,a(u)),ta(a(u)))}var Y=ia(),Z=I(Y);Nt(Z,{get title(){return dt["werewolf-moderator"]},get description(){return $t["werewolf-moderator"]},uri:"werewolf-moderator/debug"});var K=s(Z,2),tt=e(K),at=e(tt),wt=e(at,!0);r(at),r(tt),r(K);var $=s(K,2),yt=e($,!0);r($);var B=s($,2),et=e(B),T=e(et),j=e(T);Q(j),j.value=j.__value="slots";var G=s(j,2),ht=e(G);Qt(ht,{get file(){return a(o)},set file(t){n(o,t,!0)},get load_save_status(){return a(y)},set load_save_status(t){n(y,t,!0)}}),r(G);var S=s(G,2);Q(S),S.value=S.__value="presets";var rt=s(S,2),kt=e(rt);Rt(kt,{get load_save_status(){return a(y)},set load_save_status(t){n(y,t,!0)},get file(){return a(o)},set file(t){n(o,t,!0)}}),r(rt),r(T);var st=s(T,2);{var jt=t=>{var l=vt(),g=I(l);{var m=i=>{var p=ea();f(i,p)},P=i=>{var p=vt(),_=I(p);{var v=b=>{gt(b)},x=b=>{var C=ra(),H=I(C);H.__click=()=>n(o,-1);var At=e(H,!0);r(H);var J=s(H,2),it=e(J),Dt=e(it);Vt(Dt,{get a_slot(){return bt[a(o)]},get index(){return a(o)},show_time:!0}),r(it),r(J);var M=s(J,4),z=e(M);z.__pointerup=async()=>{try{n(u,localStorage.getItem(`werewolf-moderator[${a(o)}]`)??"",!0),navigator.clipboard.writeText(a(u)),pt(d.copied_to_clipboard,"success",3e3)}catch{pt(d.failed_to_copy,"error",15e3),await It(),a(L)?.focus(),a(L)?.select()}};var Et=e(z,!0);r(z);var N=s(z,2),h=e(N);Q(h),h.__keydown=X,Mt(h,O=>n(L,O),()=>a(L));var q=s(h,2);q.__click=()=>{n(u,"")};var Lt=e(q);Wt(Lt),r(q),r(N);var F=s(N,2);F.__click=X;var Tt=e(F,!0);r(F),r(M);var Ct=s(M,4);Xt(Ct,{}),D(()=>{c(At,d.save_and_quit),c(Et,d.copy_json_to_clipboard),ct(h,"placeholder",d.save_state),q.disabled=!a(u),ct(q,"aria-label",d.clear),F.disabled=!a(u),c(Tt,d.import_save_state)}),Jt(h,()=>a(u),O=>n(u,O)),f(b,C)};k(_,b=>{a(y)==="error"?b(v):b(x,!1)},!0)}f(i,p)};k(g,i=>{a(y)==="loading"?i(m):i(P,!1)})}f(t,l)};k(st,t=>{a(o)!==-1&&t(jt)})}var St=s(st,2);Ot(St),r(et),r(B);var ot=s(B,2);{var Pt=t=>{var l=la(),g=e(l),m=e(g);{var P=_=>{var v=sa(),x=e(v,!0);r(v),D(()=>c(x,d.empty_player_name)),f(_,v)};k(m,_=>{a(W)&&_(P)})}var i=s(m,2);{var p=_=>{var v=oa(),x=e(v,!0);r(v),D(()=>c(x,d.duplicate_players)),f(_,v)};k(i,_=>{a(V)&&_(p)})}r(g),r(l),f(t,l)};k(ot,t=>{(a(V)||a(W))&&t(Pt)})}var lt=s(ot,2),qt=e(lt);r(lt),D(t=>{c(wt,dt["werewolf-moderator"]),c(yt,Gt["werewolf-moderator"]),_t(T,1,Bt(["tabs-lift tabs w-full",a(o)!==-1&&"hidden"])),_t(qt,1,`alert ${t??""}`)},[()=>xt[Ut()]]),ut(U,[],j,()=>a(E),t=>n(E,t)),ut(U,[],S,()=>a(E),t=>n(E,t)),f(ft,Y),Ft()}Ht(["click","pointerup","keydown"]);export{ma as component};
