import{a0 as jt,e as Yt,ae as Vt,X as Kt,b2 as qt}from"./fRTlKJc5.js";function vn(e,t,r){jt(()=>{var n=Yt(()=>t(e,r?.())||{});if(r&&n?.update){var a=!1,i={};Vt(()=>{var o=r();Kt(o),a&&qt(i,o)&&(i=o,n.update(o))}),a=!0}if(n?.destroy)return()=>n.destroy()})}function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gt(Object(r),!0).forEach(function(n){ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function de(e){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(e)}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xt(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Jt(e,t){if(e==null)return{};var r=Xt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qt(e,t){return tr(e)||nr(e,t)||at(e,t)||ar()}function F(e){return er(e)||rr(e)||at(e)||ir()}function er(e){if(Array.isArray(e))return Xe(e)}function tr(e){if(Array.isArray(e))return e}function rr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,d;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(l){i=!0,d=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw d}}return n}}function at(e,t){if(e){if(typeof e=="string")return Xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xe(e,t)}}function Xe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ir(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ar(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=at(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,d;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,d=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw d}}}}var or="finalize",sr="consider";function ge(e,t,r){e.dispatchEvent(new CustomEvent(or,{detail:{items:t,info:r}}))}function J(e,t,r){e.dispatchEvent(new CustomEvent(sr,{detail:{items:t,info:r}}))}var $e="draggedEntered",_e="draggedLeft",He="draggedOverIndex",ot="draggedLeftDocument",Me={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function dr(e,t,r){e.dispatchEvent(new CustomEvent($e,{detail:{indexObj:t,draggedEl:r}}))}function ur(e,t,r){e.dispatchEvent(new CustomEvent(_e,{detail:{draggedEl:t,type:Me.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function lr(e,t){e.dispatchEvent(new CustomEvent(_e,{detail:{draggedEl:t,type:Me.OUTSIDE_OF_ANY}}))}function fr(e,t,r){e.dispatchEvent(new CustomEvent(He,{detail:{indexObj:t,draggedEl:r}}))}function cr(e){window.dispatchEvent(new CustomEvent(ot,{detail:{draggedEl:e}}))}var x={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:$e,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:He,DRAGGED_LEFT:_e,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},R={POINTER:"pointer",KEYBOARD:"keyboard"},Ue="isDndShadowItem",We="data-is-dnd-shadow-item-internal",gr="data-is-dnd-shadow-item-hint",vr="id:dnd-shadow-placeholder-0000",mr="dnd-action-dragged-el",w="id",Je=0;function It(){Je++}function St(){if(Je===0)throw new Error("Bug! trying to decrement when there are no dropzones");Je--}var st=typeof window>"u";function Qe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?yr(e):e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){var o,d,l,f;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),o=+r[0],d=+r[5],l=+r[12],f=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),o=+r[0],d=+r[3],l=+r[4],f=+r[5];else return n;var s=a.transformOrigin,g=n.x-l-(1-o)*parseFloat(s),u=n.y-f-(1-d)*parseFloat(s.slice(s.indexOf(" ")+1)),c=o?n.width/o:e.offsetWidth,v=d?n.height/d:e.offsetHeight;return{x:g,y:u,width:c,height:v,top:u,right:g+c,bottom:u+v,left:g}}else return n}function xt(e){var t=Qe(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Rt(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Ct(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function pr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Be(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function be(e){return Ct(Rt(e))}function vt(e,t){var r=be(e),n=xt(t);return Be(r,n)}function mt(e,t){var r=be(e),n=be(t);return pr(r,n)}function hr(e){var t=Rt(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function yr(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=e.parentElement;n&&n!==document.body;){var a=n.getBoundingClientRect(),i=window.getComputedStyle(n).overflowY,o=window.getComputedStyle(n).overflowX,d=i==="scroll"||i==="auto",l=o==="scroll"||o==="auto";d&&(r.top=Math.max(r.top,a.top),r.bottom=Math.min(r.bottom,a.bottom)),l&&(r.left=Math.max(r.left,a.left),r.right=Math.min(r.right,a.right)),n=n.parentElement}return r.top=Math.max(r.top,0),r.bottom=Math.min(r.bottom,window.innerHeight),r.left=Math.max(r.left,0),r.right=Math.min(r.right,window.innerWidth),{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var ue;function dt(){ue=new Map}dt();function Dr(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(We)});if(t>=0)return ue.has(e)||ue.set(e,new Map),ue.get(e).set(t,xt(e.children[t])),t}function Er(e,t){if(!vt(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var n=Dr(t),a=0;a<r.length;a++)if(vt(e,r[a])){var i=ue.has(t)&&ue.get(t).get(a);return i&&!Be(be(e),i)?{index:n,isProximityBased:!1}:{index:a,isProximityBased:!1}}for(var o=Number.MAX_VALUE,d=void 0,l=0;l<r.length;l++){var f=mt(e,r[l]);f<o&&(o=f,d=l)}if(r.length>0){var s=r.length,g=r[s-1],u=g.cloneNode(!1);u.style.visibility="hidden",u.style.pointerEvents="none",t.appendChild(u);var c=mt(e,u);c<o&&(d=s),t.removeChild(u)}return{index:d,isProximityBased:!0}}function he(e){return JSON.stringify(e,null,2)}function Pe(e){if(!e)throw new Error("cannot get depth of a falsy node");return Nt(e,0)}function Nt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Nt(e.parentElement,t+1):t-1}function br(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Tr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var wr=200,pt=10,et;function Or(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wr,n=arguments.length>3?arguments[3]:void 0,a,i,o=!1,d,l=Array.from(t).sort(function(s,g){return Pe(g)-Pe(s)});function f(){var s=be(e),g=n.multiScrollIfNeeded();if(!g&&d&&Math.abs(d.x-s.x)<pt&&Math.abs(d.y-s.y)<pt){et=window.setTimeout(f,r);return}if(hr(e)){cr(e);return}d=s;var u=!1,c=Oe(l),v;try{for(c.s();!(v=c.n()).done;){var m=v.value;g&&dt();var y=Er(e,m);if(y!==null){var E=y.index;u=!0,m!==a?(a&&ur(a,e,m),dr(m,y,e),a=m):E!==i&&(fr(m,y,e),i=E);break}}}catch(p){c.e(p)}finally{c.f()}!u&&o&&a?(lr(a,e),a=void 0,i=void 0,o=!1):o=!0,et=window.setTimeout(f,r)}f()}function _r(){clearTimeout(et),dt()}var ye=30;function Ar(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var o=e,d=o.directionObj,l=o.stepPx;d&&(i.scrollBy(d.x*l,d.y*l),window.requestAnimationFrame(function(){return r(i)}))}function n(i){return ye-i}function a(i,o){if(!o)return!1;var d=Ir(i,o),l=!!e.directionObj;if(d===null)return l&&t(),!1;var f=!1,s=!1;return o.scrollHeight>o.clientHeight&&(d.bottom<ye?(f=!0,e.directionObj={x:0,y:1},e.stepPx=n(d.bottom)):d.top<ye&&(f=!0,e.directionObj={x:0,y:-1},e.stepPx=n(d.top)),!l&&f)||o.scrollWidth>o.clientWidth&&(d.right<ye?(s=!0,e.directionObj={x:1,y:0},e.stepPx=n(d.right)):d.left<ye&&(s=!0,e.directionObj={x:-1,y:0},e.stepPx=n(d.left)),!l&&s)?(r(o),!0):(t(),!1)}return{scrollIfNeeded:a,resetScrolling:t}}function Ir(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Be(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Sr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Rr(e),n=Array.from(r).sort(function(l,f){return Pe(f)-Pe(l)}),a=Ar(),i=a.scrollIfNeeded,o=a.resetScrolling;function d(){var l=t();if(!l||!n)return!1;for(var f=n.filter(function(u){return Be(l,u.getBoundingClientRect())||u===document.scrollingElement}),s=0;s<f.length;s++){var g=i(l,f[s]);if(g)return!0}return!1}return{multiScrollIfNeeded:r.size>0?d:function(){return!1},destroy:function(){return o()}}}function xr(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),a=n.overflow;a.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Rr(e){var t=new Set,r=Oe(e),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;xr(a).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Cr(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",a=n?[e]:F(e.querySelectorAll("select")),i=Oe(a),o;try{for(i.s();!(o=i.n()).done;){var d=o.value;r.push(d.value)}}catch(C){i.e(C)}finally{i.f()}if(a.length>0)for(var l=n?[t]:F(t.querySelectorAll("select")),f=0;f<l.length;f++){var s=l[f],g=r[f],u=s.querySelector('option[value="'.concat(g,'"'));u&&u.setAttribute("selected",!0)}var c=e.tagName==="CANVAS",v=c?[e]:F(e.querySelectorAll("canvas"));if(v.length>0)for(var m=c?[t]:F(t.querySelectorAll("canvas")),y=0;y<m.length;y++){var E=v[y],p=m[y];p.width=E.width,p.height=E.height,E.width>0&&E.height>0&&p.getContext("2d").drawImage(E,0,0)}return t}var Te=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Nr=ce({},Te.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Lt(e){if(!Te[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Te)));return Nr[e]}var Lr=.2;function ie(e){return"".concat(e," ").concat(Lr,"s ease")}function Mr(e,t){var r=e.getBoundingClientRect(),n=Cr(e);Mt(e,n),n.id=mr,n.style.position="fixed";var a=r.top,i=r.left;if(n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px"),t){var o=Ct(r);a-=o.y-t.y,i-=o.x-t.x,window.setTimeout(function(){n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(ie("top"),", ").concat(ie("left"),", ").concat(ie("background-color"),", ").concat(ie("opacity"),", ").concat(ie("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(ie("width"),", ").concat(ie("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function Pr(e){e.style.cursor="grab"}function Fr(e,t,r,n){Mt(t,e);var a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=a.width-i.width,d=a.height-i.height;if(o||d){var l={left:(r-i.left)/i.width,top:(n-i.top)/i.height};Lt(Te.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(a.height,"px"),e.style.width="".concat(a.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-l.left*o,"px"),e.style.top="".concat(parseFloat(e.style.top)-l.top*d,"px")}}function Mt(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||Lt(Te.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function zr(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Pt(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Gr(e){e.style.visibility="hidden",e.setAttribute(We,"true")}function kr(e){e.style.visibility="",e.removeAttribute(We)}function Ne(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=a[i]}),r(n).forEach(function(i){return n.classList.add(i)})})}function Fe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=""}),r(n).forEach(function(i){return n.classList.contains(i)&&n.classList.remove(i)})})}function $r(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Hr="--any--",Ur=100,Wr=20,Re=3,Br=80,ht={outline:"rgba(255, 255, 102, 0.7) solid 2px"},yt="data-is-dnd-original-dragged-item",L,T,M,Ze,h,je,X,_,W,I,V=!1,ut=!1,lt,Ae=!1,Le=[],Ee,B,De=!1,$=new Map,D=new Map,qe=new WeakMap;function Zr(e,t){$.has(t)||$.set(t,new Set),$.get(t).has(e)||($.get(t).add(e),It())}function Dt(e,t){$.get(t).delete(e),St(),$.get(t).size===0&&$.delete(t)}function jr(){var e=$.get(Ze),t=Oe(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener($e,Ft),n.addEventListener(_e,zt),n.addEventListener(He,Gt)}}catch(o){t.e(o)}finally{t.f()}window.addEventListener(ot,ve);var a=Math.max.apply(Math,F(Array.from(e.keys()).map(function(o){return D.get(o).dropAnimationDurationMs}))),i=a===0?Wr:Math.max(a,Ur);Ee=Sr(e,function(){return I}),Or(T,e,i*1.07,Ee)}function Yr(){var e=$.get(Ze),t=Oe(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener($e,Ft),n.removeEventListener(_e,zt),n.removeEventListener(He,Gt)}}catch(a){t.e(a)}finally{t.f()}window.removeEventListener(ot,ve),Ee&&(Ee.destroy(),Ee=void 0),_r()}function Ye(e){return e.findIndex(function(t){return!!t[Ue]})}function Vr(e){var t;return K(K({},e),{},(t={},ce(t,Ue,!0),ce(t,w,vr),t))}function Ft(e){var t=D.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==h)){if(Ae=!1,r=r.filter(function(d){return d[w]!==X[w]}),h!==e.currentTarget){var a=D.get(h).items,i=a.filter(function(d){return!d[Ue]});J(h,i,{trigger:x.DRAGGED_ENTERED_ANOTHER,id:M[w],source:R.POINTER})}var o=e.detail.indexObj.index;_=e.currentTarget,r.splice(o,0,X),J(e.currentTarget,r,{trigger:x.DRAGGED_ENTERED,id:M[w],source:R.POINTER})}}function zt(e){if(V){var t=D.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==h&&e.currentTarget!==_)){var a=F(r),i=Ye(a);i!==-1&&a.splice(i,1);var o=_;_=void 0;var d=e.detail,l=d.type,f=d.theOtherDz;if(l===Me.OUTSIDE_OF_ANY||l===Me.LEFT_FOR_ANOTHER&&f!==h&&D.get(f).dropFromOthersDisabled){Ae=!0,_=h;var s=o===h?a:F(D.get(h).items);s.splice(je,0,X),J(h,s,{trigger:x.DRAGGED_LEFT_ALL,id:M[w],source:R.POINTER})}J(e.currentTarget,a,{trigger:x.DRAGGED_LEFT,id:M[w],source:R.POINTER})}}}function Gt(e){var t=D.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==h)){var a=F(r);Ae=!1;var i=e.detail.indexObj.index,o=Ye(a);o!==-1&&a.splice(o,1),a.splice(i,0,X),J(e.currentTarget,a,{trigger:x.DRAGGED_OVER_INDEX,id:M[w],source:R.POINTER})}}function ze(e){e.preventDefault();var t=e.touches?e.touches[0]:e;I={x:t.clientX,y:t.clientY},T.style.transform="translate3d(".concat(I.x-W.x,"px, ").concat(I.y-W.y,"px, 0)")}function ve(){ut=!0,window.removeEventListener("mousemove",ze),window.removeEventListener("touchmove",ze),window.removeEventListener("mouseup",ve),window.removeEventListener("touchend",ve),Yr(),Pr(T),_||(_=h);var e=D.get(_),t=e.items,r=e.type;Fe($.get(r),function(i){return D.get(i).dropTargetStyle},function(i){return D.get(i).dropTargetClasses});var n=Ye(t);n===-1&&_===h&&(n=je),t=t.map(function(i){return i[Ue]?M:i});function a(){lt(),ge(_,t,{trigger:Ae?x.DROPPED_OUTSIDE_OF_ANY:x.DROPPED_INTO_ZONE,id:M[w],source:R.POINTER}),_!==h&&ge(h,D.get(h).items,{trigger:x.DROPPED_INTO_ANOTHER,id:M[w],source:R.POINTER});var i=Array.from(_.children).find(function(o){return o.getAttribute(We)});i&&kr(i),Xr()}D.get(_).dropAnimationDisabled?a():Kr(n,a)}function Kr(e,t){var r=e>-1?Qe(_.children[e],!1):Qe(_,!1),n={x:r.left-parseFloat(T.style.left),y:r.top-parseFloat(T.style.top)},a=D.get(_),i=a.dropAnimationDurationMs,o="transform ".concat(i,"ms ease");T.style.transition=T.style.transition?T.style.transition+","+o:o,T.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,i)}function qr(e,t){Le.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){Pt(e),document.body.appendChild(e)})}function Xr(){T&&T.remove&&T.remove(),L&&L.remove&&L.remove(),T=void 0,L=void 0,M=void 0,Ze=void 0,h=void 0,je=void 0,X=void 0,_=void 0,W=void 0,I=void 0,V=!1,ut=!1,lt=void 0,Ae=!1,B&&clearTimeout(B),B=void 0,De=!1,Le.length&&(Le.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),Le=[])}function Jr(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:ht,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},a=new Map;function i(){window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1,capture:!1}),window.addEventListener("mouseup",d,{passive:!1}),window.addEventListener("touchend",d,{passive:!1})}function o(){window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",d),window.removeEventListener("touchend",d),B&&(clearTimeout(B),B=void 0,De=!1)}function d(u){if(o(),L=void 0,W=void 0,I=void 0,u.type==="touchend"){var c=new Event("click",{bubbles:!0,cancelable:!0});u.target.dispatchEvent(c)}}function l(u){var c=!!u.touches,v=c?u.touches[0]:u;if(c&&n.delayTouchStartMs>0&&!De){I={x:v.clientX,y:v.clientY},(Math.abs(I.x-W.x)>=Re||Math.abs(I.y-W.y)>=Re)&&(B&&(clearTimeout(B),B=void 0),d(u));return}u.preventDefault(),I={x:v.clientX,y:v.clientY},(Math.abs(I.x-W.x)>=Re||Math.abs(I.y-W.y)>=Re)&&(o(),s())}function f(u){if(!(u.target!==u.currentTarget&&(u.target.value!==void 0||u.target.isContentEditable))&&!u.button&&!V){var c=!!u.touches,v=c&&n.delayTouchStartMs>0;v||u.preventDefault(),u.stopPropagation();var m=c?u.touches[0]:u;W={x:m.clientX,y:m.clientY},I=K({},W),L=u.currentTarget,v&&(De=!1,B=window.setTimeout(function(){L&&(De=!0,o(),s())},n.delayTouchStartMs)),i()}}function s(){V=!0;var u=a.get(L);je=u,h=L.parentElement;var c=h.closest("dialog")||h.closest("[popover]")||h.getRootNode(),v=c.body||c,m=n.items,y=n.type,E=n.centreDraggedOnCursor,p=F(m);M=p[u],Ze=y,X=Vr(M),T=Mr(L,E&&I),v.appendChild(T);function C(){L.parentElement?window.requestAnimationFrame(C):(L.setAttribute(yt,!0),v.appendChild(L),jr(),Pt(L),X[w]=M[w],T.focus())}window.requestAnimationFrame(C),Ne(Array.from($.get(n.type)).filter(function(N){return N===h||!D.get(N).dropFromOthersDisabled}),function(N){return D.get(N).dropTargetStyle},function(N){return D.get(N).dropTargetClasses}),p.splice(u,1,X),lt=$r(h),J(h,p,{trigger:x.DRAG_STARTED,id:M[w],source:R.POINTER}),window.addEventListener("mousemove",ze,{passive:!1}),window.addEventListener("touchmove",ze,{passive:!1,capture:!1}),window.addEventListener("mouseup",ve,{passive:!1}),window.addEventListener("touchend",ve,{passive:!1})}function g(u){var c=u.items,v=c===void 0?void 0:c,m=u.flipDurationMs,y=m===void 0?0:m,E=u.type,p=E===void 0?Hr:E,C=u.dragDisabled,N=C===void 0?!1:C,Q=u.morphDisabled,j=Q===void 0?!1:Q,H=u.dropFromOthersDisabled,ee=H===void 0?!1:H,te=u.dropTargetStyle,re=te===void 0?ht:te,ne=u.dropTargetClasses,Y=ne===void 0?[]:ne,Ie=u.transformDraggedElement,me=Ie===void 0?function(){}:Ie,Ve=u.centreDraggedOnCursor,Se=Ve===void 0?!1:Ve,A=u.dropAnimationDisabled,Bt=A===void 0?!1:A,ft=u.delayTouchStart,pe=ft===void 0?!1:ft;n.dropAnimationDurationMs=y;var Ke=0;pe===!0?Ke=Br:typeof pe=="number"&&isFinite(pe)&&pe>=0&&(Ke=pe),n.delayTouchStartMs=Ke,n.type&&p!==n.type&&Dt(e,n.type),n.type=p,n.items=F(v),n.dragDisabled=N,n.morphDisabled=j,n.transformDraggedElement=me,n.centreDraggedOnCursor=Se,n.dropAnimationDisabled=Bt,r&&V&&!ut&&(!br(re,n.dropTargetStyle)||!Tr(Y,n.dropTargetClasses))&&(Fe([e],function(){return n.dropTargetStyle},function(){return Y}),Ne([e],function(){return re},function(){return Y})),n.dropTargetStyle=re,n.dropTargetClasses=F(Y);function xe(U,ct){return D.get(U)?D.get(U)[ct]:n[ct]}r&&V&&n.dropFromOthersDisabled!==ee&&(ee?Fe([e],function(U){return xe(U,"dropTargetStyle")},function(U){return xe(U,"dropTargetClasses")}):Ne([e],function(U){return xe(U,"dropTargetStyle")},function(U){return xe(U,"dropTargetClasses")})),n.dropFromOthersDisabled=ee,D.set(e,n),Zr(e,p);for(var Zt=V?Ye(n.items):-1,se=0;se<e.children.length;se++){var z=e.children[se];if(zr(z,N),se===Zt){j||Fr(T,z,I.x,I.y),n.transformDraggedElement(T,M,se),Gr(z);continue}z.removeEventListener("mousedown",qe.get(z)),z.removeEventListener("touchstart",qe.get(z)),N||(z.addEventListener("mousedown",f),z.addEventListener("touchstart",f),qe.set(z,f)),a.set(z,se),r||(r=!0)}}return g(t),{update:function(c){g(c)},destroy:function(){function c(){Dt(e,D.get(e).type),D.delete(e)}V&&!e.closest("[".concat(yt,"]"))?qr(e,c):c()}}}var Ce,tt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},kt=(Ce={},ce(Ce,tt.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),ce(Ce,tt.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),Ce),Qr="dnd-action-aria-alert",b;function rt(){b||(b=document.createElement("div"),(function(){b.id=Qr,b.style.position="fixed",b.style.bottom="0",b.style.left="0",b.style.zIndex="-5",b.style.opacity="0",b.style.height="0",b.style.width="0",b.setAttribute("role","alert")})(),document.body.prepend(b),Object.entries(kt).forEach(function(e){var t=Qt(e,2),r=t[0],n=t[1];return document.body.prepend(rn(r,n))}))}function en(){return st?null:(document.readyState==="complete"?rt():window.addEventListener("DOMContentLoaded",rt),K({},tt))}function tn(){st||!b||(Object.keys(kt).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),b.remove(),b=void 0)}function rn(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function le(e){if(!st){b||rt(),b.innerHTML="";var t=document.createTextNode(e);b.appendChild(t),b.style.display="none",b.style.display="inline"}}var nn="--any--",Et={outline:"rgba(255, 255, 102, 0.7) solid 2px"},P=!1,nt,S,oe="",ae,Z,q="",Ge=new WeakSet,bt=new WeakMap,Tt=new WeakMap,it=new Map,O=new Map,k=new Map,ke;function an(e,t){k.size===0&&(ke=en(),window.addEventListener("keydown",$t),window.addEventListener("click",Ht)),k.has(t)||k.set(t,new Set),k.get(t).has(e)||(k.get(t).add(e),It())}function wt(e,t){S===e&&we(),k.get(t).delete(e),St(),k.get(t).size===0&&k.delete(t),k.size===0&&(window.removeEventListener("keydown",$t),window.removeEventListener("click",Ht),ke=void 0,tn())}function $t(e){if(P)switch(e.key){case"Escape":{we();break}}}function Ht(){P&&(Ge.has(document.activeElement)||we())}function on(e){if(P){var t=e.currentTarget;if(t!==S){oe=t.getAttribute("aria-label")||"";var r=O.get(S),n=r.items,a=n.find(function(g){return g[w]===Z}),i=n.indexOf(a),o=n.splice(i,1)[0],d=O.get(t),l=d.items,f=d.autoAriaDisabled;t.getBoundingClientRect().top<S.getBoundingClientRect().top||t.getBoundingClientRect().left<S.getBoundingClientRect().left?(l.push(o),f||le("Moved item ".concat(q," to the end of the list ").concat(oe))):(l.unshift(o),f||le("Moved item ".concat(q," to the beginning of the list ").concat(oe)));var s=S;ge(s,n,{trigger:x.DROPPED_INTO_ANOTHER,id:Z,source:R.KEYBOARD}),ge(t,l,{trigger:x.DROPPED_INTO_ZONE,id:Z,source:R.KEYBOARD}),S=t}}}function Ut(){it.forEach(function(e,t){var r=e.update;return r(O.get(t))})}function we(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;O.get(S).autoAriaDisabled||le("Stopped dragging item ".concat(q)),Ge.has(document.activeElement)&&document.activeElement.blur(),e&&J(S,O.get(S).items,{trigger:x.DRAG_STOPPED,id:Z,source:R.KEYBOARD}),Fe(k.get(nt),function(t){return O.get(t).dropTargetStyle},function(t){return O.get(t).dropTargetClasses}),ae=null,Z=null,q="",nt=null,S=null,oe="",P=!1,Ut()}function sn(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Et,dropTargetClasses:[],autoAriaDisabled:!1};function n(s,g,u){s.length<=1||s.splice(u,1,s.splice(g,1,s[u])[0])}function a(s){switch(s.key){case"Enter":case" ":{if((s.target.disabled!==void 0||s.target.href||s.target.isContentEditable)&&!Ge.has(s.target))return;s.preventDefault(),s.stopPropagation(),P?we():i(s);break}case"ArrowDown":case"ArrowRight":{if(!P)return;s.preventDefault(),s.stopPropagation();var g=O.get(e),u=g.items,c=Array.from(e.children),v=c.indexOf(s.currentTarget);v<c.length-1&&(r.autoAriaDisabled||le("Moved item ".concat(q," to position ").concat(v+2," in the list ").concat(oe)),n(u,v,v+1),ge(e,u,{trigger:x.DROPPED_INTO_ZONE,id:Z,source:R.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!P)return;s.preventDefault(),s.stopPropagation();var m=O.get(e),y=m.items,E=Array.from(e.children),p=E.indexOf(s.currentTarget);p>0&&(r.autoAriaDisabled||le("Moved item ".concat(q," to position ").concat(p," in the list ").concat(oe)),n(y,p,p-1),ge(e,y,{trigger:x.DROPPED_INTO_ZONE,id:Z,source:R.KEYBOARD}));break}}}function i(s){d(s.currentTarget),S=e,nt=r.type,P=!0;var g=Array.from(k.get(r.type)).filter(function(c){return c===S||!O.get(c).dropFromOthersDisabled});if(Ne(g,function(c){return O.get(c).dropTargetStyle},function(c){return O.get(c).dropTargetClasses}),!r.autoAriaDisabled){var u="Started dragging item ".concat(q,". Use the arrow keys to move it within its list ").concat(oe);g.length>1&&(u+=", or tab to another list in order to move the item into it"),le(u)}J(e,O.get(e).items,{trigger:x.DRAG_STARTED,id:Z,source:R.KEYBOARD}),Ut()}function o(s){P&&s.currentTarget!==ae&&(s.stopPropagation(),we(!1),i(s))}function d(s){var g=O.get(e),u=g.items,c=Array.from(e.children),v=c.indexOf(s);ae=s,ae.tabIndex=r.zoneItemTabIndex,Z=u[v][w],q=c[v].getAttribute("aria-label")||""}function l(s){var g=s.items,u=g===void 0?[]:g,c=s.type,v=c===void 0?nn:c,m=s.dragDisabled,y=m===void 0?!1:m,E=s.zoneTabIndex,p=E===void 0?0:E,C=s.zoneItemTabIndex,N=C===void 0?0:C,Q=s.dropFromOthersDisabled,j=Q===void 0?!1:Q,H=s.dropTargetStyle,ee=H===void 0?Et:H,te=s.dropTargetClasses,re=te===void 0?[]:te,ne=s.autoAriaDisabled,Y=ne===void 0?!1:ne;r.items=F(u),r.dragDisabled=y,r.dropFromOthersDisabled=j,r.zoneTabIndex=p,r.zoneItemTabIndex=N,r.dropTargetStyle=ee,r.dropTargetClasses=re,r.autoAriaDisabled=Y,r.type&&v!==r.type&&wt(e,r.type),r.type=v,an(e,v),Y||(e.setAttribute("aria-disabled",y),e.setAttribute("role","list"),e.setAttribute("aria-describedby",y?ke.DND_ZONE_DRAG_DISABLED:ke.DND_ZONE_ACTIVE)),O.set(e,r),P?e.tabIndex=e===S||ae.contains(e)||r.dropFromOthersDisabled||S&&r.type!==O.get(S).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",on);for(var Ie=function(Se){var A=e.children[Se];Ge.add(A),A.tabIndex=P?-1:r.zoneItemTabIndex,Y||A.setAttribute("role","listitem"),A.removeEventListener("keydown",bt.get(A)),A.removeEventListener("click",Tt.get(A)),y||(A.addEventListener("keydown",a),bt.set(A,a),A.addEventListener("click",o),Tt.set(A,o)),P&&r.items[Se][w]===Z&&(ae=A,ae.tabIndex=r.zoneItemTabIndex,A.focus())},me=0;me<e.children.length;me++)Ie(me)}l(t);var f={update:function(g){l(g)},destroy:function(){wt(e,r.type),O.delete(e),it.delete(e)}};return it.set(e,f),f}var dn=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function un(e,t){if(ln(e))return{update:function(){},destroy:function(){}};Ot(t);var r=Jr(e,t),n=sn(e,t);return{update:function(i){Ot(i),r.update(i),n.update(i)},destroy:function(){r.destroy(),n.destroy()}}}function ln(e){return!!e.closest("[".concat(gr,'="true"]'))}function Ot(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var a=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var i=e.delayTouchStart;e.dropAnimationDisabled;var o=Jt(e,dn);if(Object.keys(o).length>0&&console.warn("dndzone will ignore unknown options",o),!t)throw new Error("no 'items' key provided to dndzone");var d=t.find(function(s){return!{}.hasOwnProperty.call(s,w)});if(d)throw new Error("missing '".concat(w,"' property for item ").concat(he(d)));if(a&&!Array.isArray(a))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(de(a),", ").concat(he(a)));if(r&&!_t(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(de(r),", ").concat(he(r)));if(n&&!_t(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(de(n),", ").concat(he(n)));if(i!==void 0&&i!==!1){var l=i===!0,f=typeof i=="number"&&isFinite(i)&&i>=0;if(!l&&!f)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(de(i),", ").concat(he(i)))}}function _t(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function Wt(e){var t=e,r=new Set;return{get:function(){return t},set:function(a){t=a,Array.from(r).forEach(function(i){return i(t)})},subscribe:function(a){r.add(a),a(t)},unsubscribe:function(a){r.delete(a)}}}var G=Wt(!0),fe=Wt(!1);function At(){return{dragDisabled:fe.get()||G.get(),zoneItemTabIndex:-1}}function mn(e,t){var r;fe.set((r=t?.dragDisabled)!==null&&r!==void 0?r:!1);var n=t,a=un(e,K(K({},n),At()));function i(){a.update(K(K({},n),At()))}G.subscribe(i);function o(l){var f=l.detail.info,s=f.source,g=f.trigger;s===R.KEYBOARD&&g===x.DRAG_STOPPED&&G.set(!0)}function d(l){var f=l.detail.info.source;f===R.POINTER&&G.set(!0)}return e.addEventListener("consider",o),e.addEventListener("finalize",d),{update:function(f){var s,g;n=f,fe.set((s=(g=n)===null||g===void 0?void 0:g.dragDisabled)!==null&&s!==void 0?s:!1),i()},destroy:function(){e.removeEventListener("consider",o),e.removeEventListener("finalize",d),G.unsubscribe(i)}}}function pn(e){e.setAttribute("role","button");function t(i){i.preventDefault(),G.set(!1),window.addEventListener("mouseup",n),window.addEventListener("touchend",n)}function r(i){(i.key==="Enter"||i.key===" ")&&G.set(!1)}function n(){G.set(!0),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n)}var a=function(){var o=fe.get(),d=G.get();o?(e.tabIndex=-1,e.style.cursor=""):(e.tabIndex=d?0:-1,e.style.cursor=d?"grab":"grabbing")};return fe.subscribe(a),G.subscribe(a),e.addEventListener("mousedown",t),e.addEventListener("touchstart",t),e.addEventListener("keydown",r),{update:function(){},destroy:function(){e.removeEventListener("mousedown",t),e.removeEventListener("touchstart",t),e.removeEventListener("keydown",r),fe.unsubscribe(a),G.unsubscribe(a)}}}function fn(e){const t=e-1;return t*t*t+1}function hn(e,{from:t,to:r},n={}){var{delay:a=0,duration:i=j=>Math.sqrt(j)*120,easing:o=fn}=n,d=getComputedStyle(e),l=d.transform==="none"?"":d.transform,[f,s]=d.transformOrigin.split(" ").map(parseFloat);f/=e.clientWidth,s/=e.clientHeight;var g=cn(e),u=e.clientWidth/r.width/g,c=e.clientHeight/r.height/g,v=t.left+t.width*f,m=t.top+t.height*s,y=r.left+r.width*f,E=r.top+r.height*s,p=(v-y)*u,C=(m-E)*c,N=t.width/r.width,Q=t.height/r.height;return{delay:a,duration:typeof i=="function"?i(Math.sqrt(p*p+C*C)):i,easing:o,css:(j,H)=>{var ee=H*p,te=H*C,re=j+H*N,ne=j+H*Q;return`transform: ${l} translate(${ee}px, ${te}px) scale(${re}, ${ne});`}}}function cn(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}export{vn as a,mn as b,pn as d,hn as f};
