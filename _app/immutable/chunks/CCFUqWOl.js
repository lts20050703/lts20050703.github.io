import{al as x,F as B,aD as q,aE as L,a1 as y,b as z,aF as G,aG as M,aH as P,aI as O,aJ as U,_ as j,q as k}from"./B-LFg-4H.js";import{i as D}from"./D8wh7IZ2.js";const H=()=>performance.now(),_={tick:r=>requestAnimationFrame(r),now:()=>H(),tasks:new Set};function $(){const r=_.now();_.tasks.forEach(t=>{t.c(r)||(_.tasks.delete(t),t.f())}),_.tasks.size!==0&&_.tick($)}function J(r){let t;return _.tasks.size===0&&_.tick($),{promise:new Promise(o=>{_.tasks.add(t={c:r,f:o})}),abort(){_.tasks.delete(t)}}}function C(r,t){O(()=>{r.dispatchEvent(new CustomEvent(t))})}function K(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function S(r){const t={},o=r.split(";");for(const n of o){const[s,a]=n.split(":");if(!s||a===void 0)break;const f=K(s.trim());t[f]=a.trim()}return t}const W=r=>r;function Y(r,t,o){var n=x,s=n.nodes,a,f,d,p=null;s.a??={element:r,measure(){a=this.element.getBoundingClientRect()},apply(){if(d?.abort(),f=this.element.getBoundingClientRect(),a.left!==f.left||a.right!==f.right||a.top!==f.top||a.bottom!==f.bottom){const e=t()(this.element,{from:a,to:f},o?.());d=E(this.element,e,void 0,1,()=>{d?.abort(),d=void 0})}},fix(){if(!r.getAnimations().length){var{position:e,width:h,height:w}=getComputedStyle(r);if(e!=="absolute"&&e!=="fixed"){var i=r.style;p={position:i.position,width:i.width,height:i.height,transform:i.transform},i.position="absolute",i.width=h,i.height=w;var u=r.getBoundingClientRect();if(a.left!==u.left||a.top!==u.top){var m=`translate(${a.left-u.left}px, ${a.top-u.top}px)`;i.transform=i.transform?`${i.transform} ${m}`:m}}}},unfix(){if(p){var e=r.style;e.position=p.position,e.width=p.width,e.height=p.height,e.transform=p.transform}}},s.a.element=r}function Z(r,t,o,n){var s=(r&M)!==0,a=(r&P)!==0,f=s&&a,d=(r&G)!==0,p=f?"both":s?"in":"out",e,h=t.inert,w=t.style.overflow,i,u;function m(){return O(()=>e??=o()(t,n?.()??{},{direction:p}))}var c={is_global:d,in(){if(t.inert=h,!s){u?.abort(),u?.reset?.();return}a||i?.abort(),C(t,"introstart"),i=E(t,m(),u,1,()=>{C(t,"introend"),i?.abort(),i=e=void 0,t.style.overflow=w})},out(b){if(!a){b?.(),e=void 0;return}t.inert=!0,C(t,"outrostart"),u=E(t,m(),i,0,()=>{C(t,"outroend"),b?.()})},stop:()=>{i?.abort(),u?.abort()}},l=x;if((l.nodes.t??=[]).push(c),s&&D){var g=d;if(!g){for(var v=l.parent;v&&(v.f&B)!==0;)for(;(v=v.parent)&&(v.f&q)===0;);g=!v||(v.f&L)!==0}g&&y(()=>{z(()=>c.in())})}}function E(r,t,o,n,s){var a=n===1;if(U(t)){var f,d=!1;return j(()=>{if(!d){var l=t({direction:a?"in":"out"});f=E(r,l,o,n,s)}}),{abort:()=>{d=!0,f?.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(o?.deactivate(),!t?.duration)return s(),{abort:k,deactivate:k,reset:k,t:()=>n};const{delay:p=0,css:e,tick:h,easing:w=W}=t;var i=[];if(a&&o===void 0&&(h&&h(0,1),e)){var u=S(e(0,1));i.push(u,u)}var m=()=>1-n,c=r.animate(i,{duration:p,fill:"forwards"});return c.onfinish=()=>{c.cancel();var l=o?.t()??1-n;o?.abort();var g=n-l,v=t.duration*Math.abs(g),b=[];if(v>0){var N=!1;if(e)for(var A=Math.ceil(v/16.666666666666668),F=0;F<=A;F+=1){var R=l+g*w(F/A),I=S(e(R,1-R));b.push(I),N||=I.overflow==="hidden"}N&&(r.style.overflow="hidden"),m=()=>{var T=c.currentTime;return l+g*w(T/v)},h&&J(()=>{if(c.playState!=="running")return!1;var T=m();return h(T,1-T),!0})}c=r.animate(b,{duration:v,fill:"forwards"}),c.onfinish=()=>{m=()=>n,h?.(n,1-n),s()}},{abort:()=>{c&&(c.cancel(),c.effect=null,c.onfinish=k)},deactivate:()=>{s=k},reset:()=>{n===0&&h?.(1,0)},t:()=>m()}}const Q=r=>r;function tt(r,{delay:t=0,duration:o=400,easing:n=Q}={}){const s=+getComputedStyle(r).opacity;return{delay:t,duration:o,easing:n,css:a=>`opacity: ${a*s}`}}export{Y as a,tt as f,Z as t};
