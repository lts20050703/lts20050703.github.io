import{a1 as jt,b as Vt,Y as Kt,z as qt,ap as Xt}from"./TpzrCHlF.js";function cn(e,t,r){jt(()=>{var n=Vt(()=>t(e,r?.())||{});if(r&&n?.update){var a=!1,i={};Kt(()=>{var o=r();qt(o),a&&Xt(i,o)&&(i=o,n.update(o))}),a=!0}if(n?.destroy)return()=>n.destroy()})}function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gt(Object(r),!0).forEach(function(n){ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function te(e){"@babel/helpers - typeof";return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(e)}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jt(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Qt(e,t){if(e==null)return{};var r=Jt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function er(e,t){return rr(e)||ir(e,t)||at(e,t)||or()}function P(e){return tr(e)||nr(e)||at(e)||ar()}function tr(e){if(Array.isArray(e))return Xe(e)}function rr(e){if(Array.isArray(e))return e}function nr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ir(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,u;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(l){i=!0,u=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function at(e,t){if(e){if(typeof e=="string")return Xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xe(e,t)}}function Xe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ar(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function or(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function we(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=at(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}}}var sr="finalize",dr="consider";function oe(e,t,r){e.dispatchEvent(new CustomEvent(sr,{detail:{items:t,info:r}}))}function q(e,t,r){e.dispatchEvent(new CustomEvent(dr,{detail:{items:t,info:r}}))}var $e="draggedEntered",Oe="draggedLeft",Ue="draggedOverIndex",ot="draggedLeftDocument",Me={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function ur(e,t,r){e.dispatchEvent(new CustomEvent($e,{detail:{indexObj:t,draggedEl:r}}))}function lr(e,t,r){e.dispatchEvent(new CustomEvent(Oe,{detail:{draggedEl:t,type:Me.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function fr(e,t){e.dispatchEvent(new CustomEvent(Oe,{detail:{draggedEl:t,type:Me.OUTSIDE_OF_ANY}}))}function cr(e,t,r){e.dispatchEvent(new CustomEvent(Ue,{detail:{indexObj:t,draggedEl:r}}))}function gr(e){window.dispatchEvent(new CustomEvent(ot,{detail:{draggedEl:e}}))}var R={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:$e,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Ue,DRAGGED_LEFT:Oe,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},x={POINTER:"pointer",KEYBOARD:"keyboard"},Be="isDndShadowItem",He="data-is-dnd-shadow-item-internal",vr="data-is-dnd-shadow-item-hint",It="id:dnd-shadow-placeholder-0000",mr="dnd-action-dragged-el",b="id",Je=0;function St(){Je++}function Rt(){if(Je===0)throw new Error("Bug! trying to decrement when there are no dropzones");Je--}var st=typeof window>"u";function Qe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?yr(e):e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){var o,u,l,c;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),o=+r[0],u=+r[5],l=+r[12],c=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),o=+r[0],u=+r[3],l=+r[4],c=+r[5];else return n;var s=a.transformOrigin,g=n.x-l-(1-o)*parseFloat(s),d=n.y-c-(1-u)*parseFloat(s.slice(s.indexOf(" ")+1)),f=o?n.width/o:e.offsetWidth,v=u?n.height/u:e.offsetHeight;return{x:g,y:d,width:f,height:v,top:d,right:g+f,bottom:d+v,left:g}}else return n}function xt(e){var t=Qe(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Nt(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Ct(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function pr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function We(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Ee(e){return Ct(Nt(e))}function vt(e,t){var r=Ee(e),n=xt(t);return We(r,n)}function mt(e,t){var r=Ee(e),n=Ee(t);return pr(r,n)}function hr(e){var t=Nt(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function yr(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=!1,a=!1,i=e.parentElement;i&&i!==document.body;){var o=window.getComputedStyle(i),u=o.overflowY,l=o.overflowX,c=u==="scroll"||u==="auto",s=l==="scroll"||l==="auto";if(c||s){var g=i.getBoundingClientRect();if(c){var d=Math.max(r.top,g.top),f=Math.min(r.bottom,g.bottom);(d!==r.top||f!==r.bottom)&&(n=!0),r.top=d,r.bottom=f}if(s){var v=Math.max(r.left,g.left),m=Math.min(r.right,g.right);(v!==r.left||m!==r.right)&&(a=!0),r.left=v,r.right=m}}i=i.parentElement}return n||a?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var re;function dt(){re=new Map}dt();function Dr(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(He)});if(t>=0)return re.has(e)||re.set(e,new Map),re.get(e).set(t,xt(e.children[t])),t}function Er(e,t){if(!vt(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var n=Dr(t),a=0;a<r.length;a++)if(vt(e,r[a])){var i=re.has(t)&&re.get(t).get(a);return i&&!We(Ee(e),i)?{index:n,isProximityBased:!1}:{index:a,isProximityBased:!1}}for(var o=Number.MAX_VALUE,u=void 0,l=0;l<r.length;l++){var c=mt(e,r[l]);c<o&&(o=c,u=l)}if(r.length>0){var s=r.length,g=r[s-1],d=g.cloneNode(!1);d.style.visibility="hidden",d.style.pointerEvents="none",t.appendChild(d);var f=mt(e,d);f<o&&(u=s),t.removeChild(d)}return{index:u,isProximityBased:!0}}function pe(e){return JSON.stringify(e,null,2)}function Pe(e){if(!e)throw new Error("cannot get depth of a falsy node");return Lt(e,0)}function Lt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Lt(e.parentElement,t+1):t-1}function br(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Tr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var wr=200,pt=10,et;function Or(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wr,n=arguments.length>3?arguments[3]:void 0,a,i,o=!1,u,l=Array.from(t).sort(function(s,g){return Pe(g)-Pe(s)});function c(){var s=Ee(e),g=n.multiScrollIfNeeded();if(!g&&u&&Math.abs(u.x-s.x)<pt&&Math.abs(u.y-s.y)<pt){et=window.setTimeout(c,r);return}if(hr(e)){gr(e);return}u=s;var d=!1,f=we(l),v;try{for(f.s();!(v=f.n()).done;){var m=v.value;g&&dt();var y=Er(e,m);if(y!==null){var T=y.index;d=!0,m!==a?(a&&lr(a,e,m),ur(m,y,e),a=m):T!==i&&(cr(m,y,e),i=T);break}}}catch(D){f.e(D)}finally{f.f()}!d&&o&&a?(fr(a,e),a=void 0,i=void 0,o=!1):o=!0,et=window.setTimeout(c,r)}c()}function _r(){clearTimeout(et),dt()}var he=30;function Ar(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var o=e,u=o.directionObj,l=o.stepPx;u&&(i.scrollBy(u.x*l,u.y*l),window.requestAnimationFrame(function(){return r(i)}))}function n(i){return he-i}function a(i,o){if(!o)return!1;var u=Ir(i,o),l=!!e.directionObj;if(u===null)return l&&t(),!1;var c=!1,s=!1;return o.scrollHeight>o.clientHeight&&(u.bottom<he?(c=!0,e.directionObj={x:0,y:1},e.stepPx=n(u.bottom)):u.top<he&&(c=!0,e.directionObj={x:0,y:-1},e.stepPx=n(u.top)),!l&&c)||o.scrollWidth>o.clientWidth&&(u.right<he?(s=!0,e.directionObj={x:1,y:0},e.stepPx=n(u.right)):u.left<he&&(s=!0,e.directionObj={x:-1,y:0},e.stepPx=n(u.left)),!l&&s)?(r(o),!0):(t(),!1)}return{scrollIfNeeded:a,resetScrolling:t}}function Ir(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return We(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Sr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=xr(e),n=Array.from(r).sort(function(l,c){return Pe(c)-Pe(l)}),a=Ar(),i=a.scrollIfNeeded,o=a.resetScrolling;function u(){var l=t();if(!l||!n)return!1;for(var c=n.filter(function(d){return We(l,d.getBoundingClientRect())||d===document.scrollingElement}),s=0;s<c.length;s++){var g=i(l,c[s]);if(g)return!0}return!1}return{multiScrollIfNeeded:r.size>0?u:function(){return!1},destroy:function(){return o()}}}function Rr(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),a=n.overflow;a.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function xr(e){var t=new Set,r=we(e),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;Rr(a).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Nr(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",a=n?[e]:P(e.querySelectorAll("select")),i=we(a),o;try{for(i.s();!(o=i.n()).done;){var u=o.value;r.push(u.value)}}catch($){i.e($)}finally{i.f()}if(a.length>0)for(var l=n?[t]:P(t.querySelectorAll("select")),c=0;c<l.length;c++){var s=l[c],g=r[c],d=s.querySelector('option[value="'.concat(g,'"'));d&&d.setAttribute("selected",!0)}var f=e.tagName==="CANVAS",v=f?[e]:P(e.querySelectorAll("canvas"));if(v.length>0)for(var m=f?[t]:P(t.querySelectorAll("canvas")),y=0;y<m.length;y++){var T=v[y],D=m[y];D.width=T.width,D.height=T.height,T.width>0&&T.height>0&&D.getContext("2d").drawImage(T,0,0)}return t}var be=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Cr=ae({},be.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Mt(e){if(!be[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(be)));return Cr[e]}var Lr=.2;function X(e){return"".concat(e," ").concat(Lr,"s ease")}function Mr(e,t){var r=e.getBoundingClientRect(),n=Nr(e);Pt(e,n),n.id=mr,n.style.position="fixed";var a=r.top,i=r.left;if(n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px"),t){var o=Ct(r);a-=o.y-t.y,i-=o.x-t.x,window.setTimeout(function(){n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(X("top"),", ").concat(X("left"),", ").concat(X("background-color"),", ").concat(X("opacity"),", ").concat(X("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(X("width"),", ").concat(X("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function Pr(e){e.style.cursor="grab"}function Fr(e,t,r,n){Pt(t,e);var a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=a.width-i.width,u=a.height-i.height;if(o||u){var l={left:(r-i.left)/i.width,top:(n-i.top)/i.height};Mt(be.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(a.height,"px"),e.style.width="".concat(a.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-l.left*o,"px"),e.style.top="".concat(parseFloat(e.style.top)-l.top*u,"px")}}function Pt(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||Mt(be.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function zr(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Ft(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Gr(e){e.style.visibility="hidden",e.setAttribute(He,"true")}function kr(e){e.style.visibility="",e.removeAttribute(He)}function Ce(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=a[i]}),r(n).forEach(function(i){return n.classList.add(i)})})}function Fe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=""}),r(n).forEach(function(i){return n.classList.contains(i)&&n.classList.remove(i)})})}function $r(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Ur="--any--",Br=100,Hr=20,xe=3,Wr=80,ht={outline:"rgba(255, 255, 102, 0.7) solid 2px"},yt="data-is-dnd-original-dragged-item",N,w,C,Ze,p,Ye,K,_,B,I,Y=!1,ut=!1,lt,_e=!1,Le=[],De,H,ye=!1,k=new Map,h=new Map,qe=new WeakMap;function Zr(e,t){k.has(t)||k.set(t,new Set),k.get(t).has(e)||(k.get(t).add(e),St())}function Dt(e,t){k.get(t).delete(e),Rt(),k.get(t).size===0&&k.delete(t)}function Yr(){var e=k.get(Ze),t=we(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener($e,zt),n.addEventListener(Oe,Gt),n.addEventListener(Ue,kt)}}catch(o){t.e(o)}finally{t.f()}window.addEventListener(ot,se);var a=Math.max.apply(Math,P(Array.from(e.keys()).map(function(o){return h.get(o).dropAnimationDurationMs}))),i=a===0?Hr:Math.max(a,Br);De=Sr(e,function(){return I}),Or(w,e,i*1.07,De)}function jr(){var e=k.get(Ze),t=we(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener($e,zt),n.removeEventListener(Oe,Gt),n.removeEventListener(Ue,kt)}}catch(a){t.e(a)}finally{t.f()}window.removeEventListener(ot,se),De&&(De.destroy(),De=void 0),_r()}function je(e){return e.findIndex(function(t){return!!t[Be]})}function Vr(e){var t;return j(j({},e),{},(t={},ae(t,Be,!0),ae(t,b,It),t))}function zt(e){var t=h.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==p)){if(_e=!1,r=r.filter(function(u){return u[b]!==K[b]&&u[b]!==It}),p!==e.currentTarget){var a=h.get(p).items,i=a.filter(function(u){return!u[Be]});q(p,i,{trigger:R.DRAGGED_ENTERED_ANOTHER,id:C[b],source:x.POINTER})}var o=e.detail.indexObj.index;_=e.currentTarget,r.splice(o,0,K),q(e.currentTarget,r,{trigger:R.DRAGGED_ENTERED,id:C[b],source:x.POINTER})}}function Gt(e){if(Y){var t=h.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==p&&e.currentTarget!==_)){var a=P(r),i=je(a);i!==-1&&a.splice(i,1);var o=_;_=void 0;var u=e.detail,l=u.type,c=u.theOtherDz;if(l===Me.OUTSIDE_OF_ANY||l===Me.LEFT_FOR_ANOTHER&&c!==p&&h.get(c).dropFromOthersDisabled){_e=!0,_=p;var s=o===p?a:P(h.get(p).items);s.splice(Ye,0,K),q(p,s,{trigger:R.DRAGGED_LEFT_ALL,id:C[b],source:x.POINTER})}q(e.currentTarget,a,{trigger:R.DRAGGED_LEFT,id:C[b],source:x.POINTER})}}}function kt(e){var t=h.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==p)){var a=P(r);_e=!1;var i=e.detail.indexObj.index,o=je(a);o!==-1&&a.splice(o,1),a.splice(i,0,K),q(e.currentTarget,a,{trigger:R.DRAGGED_OVER_INDEX,id:C[b],source:x.POINTER})}}function ze(e){e.preventDefault();var t=e.touches?e.touches[0]:e;I={x:t.clientX,y:t.clientY},w.style.transform="translate3d(".concat(I.x-B.x,"px, ").concat(I.y-B.y,"px, 0)")}function se(){ut=!0,window.removeEventListener("mousemove",ze),window.removeEventListener("touchmove",ze),window.removeEventListener("mouseup",se),window.removeEventListener("touchend",se),jr(),Pr(w),_||(_=p);var e=h.get(_),t=e.items,r=e.type;Fe(k.get(r),function(i){return h.get(i).dropTargetStyle},function(i){return h.get(i).dropTargetClasses});var n=je(t);n===-1&&_===p&&(n=Ye),t=t.map(function(i){return i[Be]?C:i});function a(){lt(),oe(_,t,{trigger:_e?R.DROPPED_OUTSIDE_OF_ANY:R.DROPPED_INTO_ZONE,id:C[b],source:x.POINTER}),_!==p&&oe(p,h.get(p).items,{trigger:R.DROPPED_INTO_ANOTHER,id:C[b],source:x.POINTER});var i=Array.from(_.children).find(function(o){return o.getAttribute(He)});i&&kr(i),Xr()}h.get(_).dropAnimationDisabled?a():Kr(n,a)}function Kr(e,t){var r=e>-1?Qe(_.children[e],!1):Qe(_,!1),n={x:r.left-parseFloat(w.style.left),y:r.top-parseFloat(w.style.top)},a=h.get(_),i=a.dropAnimationDurationMs,o="transform ".concat(i,"ms ease");w.style.transition=w.style.transition?w.style.transition+","+o:o,w.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,i)}function qr(e,t){Le.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){Ft(e),document.body.appendChild(e)})}function Xr(){w&&w.remove&&w.remove(),N&&N.remove&&N.remove(),w=void 0,N=void 0,C=void 0,Ze=void 0,p=void 0,Ye=void 0,K=void 0,_=void 0,B=void 0,I=void 0,Y=!1,ut=!1,lt=void 0,_e=!1,H&&clearTimeout(H),H=void 0,ye=!1,Le.length&&(Le.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),Le=[])}function Jr(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:ht,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},a=new Map;function i(){window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1,capture:!1}),window.addEventListener("mouseup",u,{passive:!1}),window.addEventListener("touchend",u,{passive:!1})}function o(){window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",u),window.removeEventListener("touchend",u),H&&(clearTimeout(H),H=void 0,ye=!1)}function u(d){if(o(),N=void 0,B=void 0,I=void 0,d.type==="touchend"){var f=new Event("click",{bubbles:!0,cancelable:!0});d.target.dispatchEvent(f)}}function l(d){var f=!!d.touches,v=f?d.touches[0]:d;if(f&&n.delayTouchStartMs>0&&!ye){I={x:v.clientX,y:v.clientY},(Math.abs(I.x-B.x)>=xe||Math.abs(I.y-B.y)>=xe)&&(H&&(clearTimeout(H),H=void 0),u(d));return}d.preventDefault(),I={x:v.clientX,y:v.clientY},(Math.abs(I.x-B.x)>=xe||Math.abs(I.y-B.y)>=xe)&&(o(),s())}function c(d){if(!(d.target!==d.currentTarget&&(d.target.value!==void 0||d.target.isContentEditable))&&!d.button&&!Y){var f=!!d.touches,v=f&&n.delayTouchStartMs>0;v||d.preventDefault(),d.stopPropagation();var m=f?d.touches[0]:d;B={x:m.clientX,y:m.clientY},I=j({},B),N=d.currentTarget,v&&(ye=!1,H=window.setTimeout(function(){N&&(ye=!0,o(),s())},n.delayTouchStartMs)),i()}}function s(){Y=!0;var d=a.get(N);Ye=d,p=N.parentElement;var f=p.closest("dialog")||p.closest("[popover]")||p.getRootNode(),v=f.body||f,m=n.items,y=n.type,T=n.centreDraggedOnCursor,D=P(m);C=D[d],Ze=y,K=Vr(C),w=Mr(N,T&&I),v.appendChild(w);function $(){N.parentElement?window.requestAnimationFrame($):(N.setAttribute(yt,!0),v.appendChild(N),Yr(),Ft(N),K[b]=C[b],w.focus())}window.requestAnimationFrame($),Ce(Array.from(k.get(n.type)).filter(function(L){return L===p||!h.get(L).dropFromOthersDisabled}),function(L){return h.get(L).dropTargetStyle},function(L){return h.get(L).dropTargetClasses}),D.splice(d,1,K),lt=$r(p),q(p,D,{trigger:R.DRAG_STARTED,id:C[b],source:x.POINTER}),window.addEventListener("mousemove",ze,{passive:!1}),window.addEventListener("touchmove",ze,{passive:!1,capture:!1}),window.addEventListener("mouseup",se,{passive:!1}),window.addEventListener("touchend",se,{passive:!1})}function g(d){var f=d.items,v=f===void 0?void 0:f,m=d.flipDurationMs,y=m===void 0?0:m,T=d.type,D=T===void 0?Ur:T,$=d.dragDisabled,L=$===void 0?!1:$,de=d.morphDisabled,Ae=de===void 0?!1:de,ue=d.dropFromOthersDisabled,le=ue===void 0?!1:ue,fe=d.dropTargetStyle,ce=fe===void 0?ht:fe,ge=d.dropTargetClasses,Z=ge===void 0?[]:ge,Ie=d.transformDraggedElement,ve=Ie===void 0?function(){}:Ie,Ve=d.centreDraggedOnCursor,Se=Ve===void 0?!1:Ve,A=d.dropAnimationDisabled,Zt=A===void 0?!1:A,ft=d.delayTouchStart,me=ft===void 0?!1:ft;n.dropAnimationDurationMs=y;var Ke=0;me===!0?Ke=Wr:typeof me=="number"&&isFinite(me)&&me>=0&&(Ke=me),n.delayTouchStartMs=Ke,n.type&&D!==n.type&&Dt(e,n.type),n.type=D,n.items=P(v),n.dragDisabled=L,n.morphDisabled=Ae,n.transformDraggedElement=ve,n.centreDraggedOnCursor=Se,n.dropAnimationDisabled=Zt,r&&Y&&!ut&&(!br(ce,n.dropTargetStyle)||!Tr(Z,n.dropTargetClasses))&&(Fe([e],function(){return n.dropTargetStyle},function(){return Z}),Ce([e],function(){return ce},function(){return Z})),n.dropTargetStyle=ce,n.dropTargetClasses=P(Z);function Re(U,ct){return h.get(U)?h.get(U)[ct]:n[ct]}r&&Y&&n.dropFromOthersDisabled!==le&&(le?Fe([e],function(U){return Re(U,"dropTargetStyle")},function(U){return Re(U,"dropTargetClasses")}):Ce([e],function(U){return Re(U,"dropTargetStyle")},function(U){return Re(U,"dropTargetClasses")})),n.dropFromOthersDisabled=le,h.set(e,n),Zr(e,D);for(var Yt=Y?je(n.items):-1,ee=0;ee<e.children.length;ee++){var F=e.children[ee];if(zr(F,L),ee===Yt){Ae||Fr(w,F,I.x,I.y),n.transformDraggedElement(w,C,ee),Gr(F);continue}F.removeEventListener("mousedown",qe.get(F)),F.removeEventListener("touchstart",qe.get(F)),L||(F.addEventListener("mousedown",c),F.addEventListener("touchstart",c),qe.set(F,c)),a.set(F,ee),r||(r=!0)}}return g(t),{update:function(f){g(f)},destroy:function(){function f(){Dt(e,h.get(e).type),h.delete(e)}Y&&!e.closest("[".concat(yt,"]"))?qr(e,f):f()}}}var Ne,tt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},$t=(Ne={},ae(Ne,tt.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),ae(Ne,tt.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),Ne),Qr="dnd-action-aria-alert",E;function rt(){E||(E=document.createElement("div"),(function(){E.id=Qr,E.style.position="fixed",E.style.bottom="0",E.style.left="0",E.style.zIndex="-5",E.style.opacity="0",E.style.height="0",E.style.width="0",E.setAttribute("role","alert")})(),document.body.prepend(E),Object.entries($t).forEach(function(e){var t=er(e,2),r=t[0],n=t[1];return document.body.prepend(rn(r,n))}))}function en(){return st?null:(document.readyState==="complete"?rt():window.addEventListener("DOMContentLoaded",rt),j({},tt))}function tn(){st||!E||(Object.keys($t).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),E.remove(),E=void 0)}function rn(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function ne(e){if(!st){E||rt(),E.innerHTML="";var t=document.createTextNode(e);E.appendChild(t),E.style.display="none",E.style.display="inline"}}var nn="--any--",Et={outline:"rgba(255, 255, 102, 0.7) solid 2px"},M=!1,nt,S,Q="",J,W,V="",Ge=new WeakSet,bt=new WeakMap,Tt=new WeakMap,it=new Map,O=new Map,G=new Map,ke;function an(e,t){G.size===0&&(ke=en(),window.addEventListener("keydown",Ut),window.addEventListener("click",Bt)),G.has(t)||G.set(t,new Set),G.get(t).has(e)||(G.get(t).add(e),St())}function wt(e,t){S===e&&Te(),G.get(t).delete(e),Rt(),G.get(t).size===0&&G.delete(t),G.size===0&&(window.removeEventListener("keydown",Ut),window.removeEventListener("click",Bt),ke=void 0,tn())}function Ut(e){if(M)switch(e.key){case"Escape":{Te();break}}}function Bt(){M&&(Ge.has(document.activeElement)||Te())}function on(e){if(M){var t=e.currentTarget;if(t!==S){Q=t.getAttribute("aria-label")||"";var r=O.get(S),n=r.items,a=n.find(function(g){return g[b]===W}),i=n.indexOf(a),o=n.splice(i,1)[0],u=O.get(t),l=u.items,c=u.autoAriaDisabled;t.getBoundingClientRect().top<S.getBoundingClientRect().top||t.getBoundingClientRect().left<S.getBoundingClientRect().left?(l.push(o),c||ne("Moved item ".concat(V," to the end of the list ").concat(Q))):(l.unshift(o),c||ne("Moved item ".concat(V," to the beginning of the list ").concat(Q)));var s=S;oe(s,n,{trigger:R.DROPPED_INTO_ANOTHER,id:W,source:x.KEYBOARD}),oe(t,l,{trigger:R.DROPPED_INTO_ZONE,id:W,source:x.KEYBOARD}),S=t}}}function Ht(){it.forEach(function(e,t){var r=e.update;return r(O.get(t))})}function Te(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;O.get(S).autoAriaDisabled||ne("Stopped dragging item ".concat(V)),Ge.has(document.activeElement)&&document.activeElement.blur(),e&&q(S,O.get(S).items,{trigger:R.DRAG_STOPPED,id:W,source:x.KEYBOARD}),Fe(G.get(nt),function(t){return O.get(t).dropTargetStyle},function(t){return O.get(t).dropTargetClasses}),J=null,W=null,V="",nt=null,S=null,Q="",M=!1,Ht()}function sn(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Et,dropTargetClasses:[],autoAriaDisabled:!1};function n(s,g,d){s.length<=1||s.splice(d,1,s.splice(g,1,s[d])[0])}function a(s){switch(s.key){case"Enter":case" ":{if((s.target.disabled!==void 0||s.target.href||s.target.isContentEditable)&&!Ge.has(s.target))return;s.preventDefault(),s.stopPropagation(),M?Te():i(s);break}case"ArrowDown":case"ArrowRight":{if(!M)return;s.preventDefault(),s.stopPropagation();var g=O.get(e),d=g.items,f=Array.from(e.children),v=f.indexOf(s.currentTarget);v<f.length-1&&(r.autoAriaDisabled||ne("Moved item ".concat(V," to position ").concat(v+2," in the list ").concat(Q)),n(d,v,v+1),oe(e,d,{trigger:R.DROPPED_INTO_ZONE,id:W,source:x.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!M)return;s.preventDefault(),s.stopPropagation();var m=O.get(e),y=m.items,T=Array.from(e.children),D=T.indexOf(s.currentTarget);D>0&&(r.autoAriaDisabled||ne("Moved item ".concat(V," to position ").concat(D," in the list ").concat(Q)),n(y,D,D-1),oe(e,y,{trigger:R.DROPPED_INTO_ZONE,id:W,source:x.KEYBOARD}));break}}}function i(s){u(s.currentTarget),S=e,nt=r.type,M=!0;var g=Array.from(G.get(r.type)).filter(function(f){return f===S||!O.get(f).dropFromOthersDisabled});if(Ce(g,function(f){return O.get(f).dropTargetStyle},function(f){return O.get(f).dropTargetClasses}),!r.autoAriaDisabled){var d="Started dragging item ".concat(V,". Use the arrow keys to move it within its list ").concat(Q);g.length>1&&(d+=", or tab to another list in order to move the item into it"),ne(d)}q(e,O.get(e).items,{trigger:R.DRAG_STARTED,id:W,source:x.KEYBOARD}),Ht()}function o(s){M&&s.currentTarget!==J&&(s.stopPropagation(),Te(!1),i(s))}function u(s){var g=O.get(e),d=g.items,f=Array.from(e.children),v=f.indexOf(s);J=s,J.tabIndex=r.zoneItemTabIndex,W=d[v][b],V=f[v].getAttribute("aria-label")||""}function l(s){var g=s.items,d=g===void 0?[]:g,f=s.type,v=f===void 0?nn:f,m=s.dragDisabled,y=m===void 0?!1:m,T=s.zoneTabIndex,D=T===void 0?0:T,$=s.zoneItemTabIndex,L=$===void 0?0:$,de=s.dropFromOthersDisabled,Ae=de===void 0?!1:de,ue=s.dropTargetStyle,le=ue===void 0?Et:ue,fe=s.dropTargetClasses,ce=fe===void 0?[]:fe,ge=s.autoAriaDisabled,Z=ge===void 0?!1:ge;r.items=P(d),r.dragDisabled=y,r.dropFromOthersDisabled=Ae,r.zoneTabIndex=D,r.zoneItemTabIndex=L,r.dropTargetStyle=le,r.dropTargetClasses=ce,r.autoAriaDisabled=Z,r.type&&v!==r.type&&wt(e,r.type),r.type=v,an(e,v),Z||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",y?ke.DND_ZONE_DRAG_DISABLED:ke.DND_ZONE_ACTIVE)),O.set(e,r),M?e.tabIndex=e===S||J.contains(e)||r.dropFromOthersDisabled||S&&r.type!==O.get(S).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",on);for(var Ie=function(Se){var A=e.children[Se];Ge.add(A),A.tabIndex=M?-1:r.zoneItemTabIndex,Z||A.setAttribute("role","listitem"),A.removeEventListener("keydown",bt.get(A)),A.removeEventListener("click",Tt.get(A)),y||(A.addEventListener("keydown",a),bt.set(A,a),A.addEventListener("click",o),Tt.set(A,o)),M&&r.items[Se][b]===W&&(J=A,J.tabIndex=r.zoneItemTabIndex,A.focus())},ve=0;ve<e.children.length;ve++)Ie(ve)}l(t);var c={update:function(g){l(g)},destroy:function(){wt(e,r.type),O.delete(e),it.delete(e)}};return it.set(e,c),c}var dn=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function un(e,t){if(ln(e))return{update:function(){},destroy:function(){}};Ot(t);var r=Jr(e,t),n=sn(e,t);return{update:function(i){Ot(i),r.update(i),n.update(i)},destroy:function(){r.destroy(),n.destroy()}}}function ln(e){return!!e.closest("[".concat(vr,'="true"]'))}function Ot(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var a=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var i=e.delayTouchStart;e.dropAnimationDisabled;var o=Qt(e,dn);if(Object.keys(o).length>0&&console.warn("dndzone will ignore unknown options",o),!t)throw new Error("no 'items' key provided to dndzone");var u=t.find(function(s){return!{}.hasOwnProperty.call(s,b)});if(u)throw new Error("missing '".concat(b,"' property for item ").concat(pe(u)));if(a&&!Array.isArray(a))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(te(a),", ").concat(pe(a)));if(r&&!_t(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(te(r),", ").concat(pe(r)));if(n&&!_t(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(te(n),", ").concat(pe(n)));if(i!==void 0&&i!==!1){var l=i===!0,c=typeof i=="number"&&isFinite(i)&&i>=0;if(!l&&!c)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(te(i),", ").concat(pe(i)))}}function _t(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function Wt(e){var t=e,r=new Set;return{get:function(){return t},set:function(a){t=a,Array.from(r).forEach(function(i){return i(t)})},subscribe:function(a){r.add(a),a(t)},unsubscribe:function(a){r.delete(a)}}}var z=Wt(!0),ie=Wt(!1);function At(){return{dragDisabled:ie.get()||z.get(),zoneItemTabIndex:-1}}function gn(e,t){var r;ie.set((r=t?.dragDisabled)!==null&&r!==void 0?r:!1);var n=t,a=un(e,j(j({},n),At()));function i(){a.update(j(j({},n),At()))}z.subscribe(i);function o(l){var c=l.detail.info,s=c.source,g=c.trigger;s===x.KEYBOARD&&g===R.DRAG_STOPPED&&z.set(!0)}function u(l){var c=l.detail.info.source;c===x.POINTER&&z.set(!0)}return e.addEventListener("consider",o),e.addEventListener("finalize",u),{update:function(c){var s,g;n=c,ie.set((s=(g=n)===null||g===void 0?void 0:g.dragDisabled)!==null&&s!==void 0?s:!1),i()},destroy:function(){e.removeEventListener("consider",o),e.removeEventListener("finalize",u),z.unsubscribe(i)}}}function vn(e){e.setAttribute("role","button");function t(i){i.preventDefault(),z.set(!1),window.addEventListener("mouseup",n),window.addEventListener("touchend",n)}function r(i){(i.key==="Enter"||i.key===" ")&&z.set(!1)}function n(){z.set(!0),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n)}var a=function(){var o=ie.get(),u=z.get();o?(e.tabIndex=-1,e.style.cursor=""):(e.tabIndex=u?0:-1,e.style.cursor=u?"grab":"grabbing")};return ie.subscribe(a),z.subscribe(a),e.addEventListener("mousedown",t),e.addEventListener("touchstart",t),e.addEventListener("keydown",r),{update:function(){},destroy:function(){e.removeEventListener("mousedown",t),e.removeEventListener("touchstart",t),e.removeEventListener("keydown",r),ie.unsubscribe(a),z.unsubscribe(a)}}}export{cn as a,gn as b,vn as d};
